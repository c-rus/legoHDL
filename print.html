<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>legoHDL Documentation</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="getting_started/getting_started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting_started/1_installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="getting_started/2_initial_setup.html"><strong aria-hidden="true">1.2.</strong> Initial Setup</a></li></ol></li><li class="chapter-item expanded "><a href="tutorials/tutorials.html"><strong aria-hidden="true">2.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tutorials/first_project_gates.html"><strong aria-hidden="true">2.1.</strong> First Project: Gates</a></li><li class="chapter-item expanded "><a href="tutorials/ref_blocks_comparator.html"><strong aria-hidden="true">2.2.</strong> Using Blocks: Comparator</a></li></ol></li><li class="chapter-item expanded "><a href="user_guide/user_guide.html"><strong aria-hidden="true">3.</strong> User Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user_guide/converting_code.html"><strong aria-hidden="true">3.1.</strong> Converting Code</a></li><li class="chapter-item expanded "><a href="user_guide/writing_plugins.html"><strong aria-hidden="true">3.2.</strong> Writing Plugins</a></li><li class="chapter-item expanded "><a href="user_guide/defining_a_template.html"><strong aria-hidden="true">3.3.</strong> Defining a Template</a></li><li class="chapter-item expanded "><a href="user_guide/profiles.html"><strong aria-hidden="true">3.4.</strong> Sharing Settings: Profiles</a></li><li class="chapter-item expanded "><a href="user_guide/managing_settings.html"><strong aria-hidden="true">3.5.</strong> Managing Settings</a></li></ol></li><li class="chapter-item expanded "><a href="topic_guide/topic_guide.html"><strong aria-hidden="true">4.</strong> Topic Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topic_guide/why_legohdl.html"><strong aria-hidden="true">4.1.</strong> Why does legoHDL exist?</a></li><li class="chapter-item expanded "><a href="topic_guide/blocks.html"><strong aria-hidden="true">4.2.</strong> Blocks</a></li><li class="chapter-item expanded "><a href="topic_guide/workspaces.html"><strong aria-hidden="true">4.3.</strong> Workspaces</a></li><li class="chapter-item expanded "><a href="topic_guide/versioning.html"><strong aria-hidden="true">4.4.</strong> Versioning</a></li><li class="chapter-item expanded "><a href="topic_guide/plugins.html"><strong aria-hidden="true">4.5.</strong> Plugins</a></li><li class="chapter-item expanded "><a href="topic_guide/vendors.html"><strong aria-hidden="true">4.6.</strong> Vendors</a></li><li class="chapter-item expanded "><a href="topic_guide/intell_comp_rec.html"><strong aria-hidden="true">4.7.</strong> Intelligent Component Recognition</a></li></ol></li><li class="chapter-item expanded "><a href="reference/reference.html"><strong aria-hidden="true">5.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/cfg_files.html"><strong aria-hidden="true">5.1.</strong> .cfg Files</a></li></ol></li><li class="chapter-item expanded "><a href="commands/commands.html"><strong aria-hidden="true">6.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/development.html"><strong aria-hidden="true">6.1.</strong> Development</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/development/new.html"><strong aria-hidden="true">6.1.1.</strong> new</a></li><li class="chapter-item expanded "><a href="commands/development/init.html"><strong aria-hidden="true">6.1.2.</strong> init</a></li><li class="chapter-item expanded "><a href="commands/development/open.html"><strong aria-hidden="true">6.1.3.</strong> open</a></li><li class="chapter-item expanded "><a href="commands/development/get.html"><strong aria-hidden="true">6.1.4.</strong> get</a></li><li class="chapter-item expanded "><a href="commands/development/graph.html"><strong aria-hidden="true">6.1.5.</strong> graph</a></li><li class="chapter-item expanded "><a href="commands/development/export.html"><strong aria-hidden="true">6.1.6.</strong> export</a></li><li class="chapter-item expanded "><a href="commands/development/build.html"><strong aria-hidden="true">6.1.7.</strong> build</a></li><li class="chapter-item expanded "><a href="commands/development/release.html"><strong aria-hidden="true">6.1.8.</strong> release</a></li><li class="chapter-item expanded "><a href="commands/development/del.html"><strong aria-hidden="true">6.1.9.</strong> del</a></li></ol></li><li class="chapter-item expanded "><a href="commands/management.html"><strong aria-hidden="true">6.2.</strong> Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/management/list.html"><strong aria-hidden="true">6.2.1.</strong> list</a></li><li class="chapter-item expanded "><a href="commands/management/refresh.html"><strong aria-hidden="true">6.2.2.</strong> refresh</a></li><li class="chapter-item expanded "><a href="commands/management/install.html"><strong aria-hidden="true">6.2.3.</strong> install</a></li><li class="chapter-item expanded "><a href="commands/management/uninstall.html"><strong aria-hidden="true">6.2.4.</strong> uninstall</a></li><li class="chapter-item expanded "><a href="commands/management/download.html"><strong aria-hidden="true">6.2.5.</strong> download</a></li><li class="chapter-item expanded "><a href="commands/management/update.html"><strong aria-hidden="true">6.2.6.</strong> update</a></li><li class="chapter-item expanded "><a href="commands/management/info.html"><strong aria-hidden="true">6.2.7.</strong> info</a></li><li class="chapter-item expanded "><a href="commands/management/config.html"><strong aria-hidden="true">6.2.8.</strong> config</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="glossary.html"><strong aria-hidden="true">7.</strong> Appendix: Glossary</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">legoHDL Documentation</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="legohdl-documentation"><a class="header" href="#legohdl-documentation">legoHDL Documentation</a></h1>
<p><img src="./images/title_3x.png" alt="legoHDL title" /></p>
<p>legoHDL is the package manager and development tool for Hardware Description Languages (HDL). The goal of this documentation is to provide materials to learn, use, and understand the legoHDL project. </p>
<h2 id="sections"><a class="header" href="#sections">Sections</a></h2>
<p>The following documentation is mainly divided into 4 sections:</p>
<ol>
<li><a href="./tutorials/tutorials.html">Tutorials</a> - step-by-step lessons working with legoHDL</li>
<li><a href="./user_guide/user_guide.html">User Guide</a> - general procedures for &quot;how-to&quot; solve common problems</li>
<li><a href="./topic_guide/topic_guide.html">Topic Guide</a> - explanations that clarify and provide more detail to particular topics</li>
<li><a href="./reference/reference.html">Reference</a> - technical information</li>
</ol>
<h2 id="better-ip-management-for-all"><a class="header" href="#better-ip-management-for-all">Better IP management. For All.</a></h2>
<p>legoHDL is a complete and custom open-source solution to better developing and managing HDL designs. Stop wasting time and resources reinventing the wheel, fighting with tools, and copying HDL files into new projects.</p>
<p><strong>VHDL</strong> and <strong>Verilog</strong> are supported as well as mixed-language.</p>
<p>Cross-platform compatibility with <strong>macos</strong>, <strong>ubuntu</strong>, and <strong>windows</strong>.</p>
<h2 id="about-the-project"><a class="header" href="#about-the-project">About the Project</a></h2>
<p>The project is open-source under the MIT license and is available on <a href="https://github.com/c-rus/legoHDL">GitHub</a>.</p>
<h2 id="about-the-documentation"><a class="header" href="#about-the-documentation">About the Documentation</a></h2>
<p>Documentation system and methodology is inspired by <a href="https://documentation.divio.com">Divio</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>In this chapter, we will install legoHDL onto our local machine using the terminal and set up some preliminary
settings.</p>
<ul>
<li><a href="getting_started/./1_installation.html">Installation</a></li>
<li><a href="getting_started/./2_initial_setup.html">Initial Setup</a></li>
</ul>
<h3 id="tip-how-to-understand-the-code"><a class="header" href="#tip-how-to-understand-the-code"><em>Tip</em>: How to Understand the Code</a></h3>
<p>Any time a code snippet is presented in this documentation beginning with a <code>$</code>, the text on that line proceeding it is to be entered into the terminal (excluding the <code>$</code>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>There are very minimal requirements to get legoHDL up and running. Even though git is a requirement, developers do not need to fully understand git nor directly run git commands. </p>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<ul>
<li><a href="https://www.python.org/downloads/">python</a> (version 3.5+)</li>
<li><a href="https://git-scm.com/downloads">git</a></li>
<li>your favorite text-editor</li>
</ul>
<p>Some recommended text-editors:</p>
<ul>
<li><a href="https://code.visualstudio.com/download">visual studio code</a> (ubuntu, macos, windows)</li>
<li><a href="https://atom.io">atom</a> (ubuntu, macos, windows)</li>
<li><a href="https://notepad-plus-plus.org/downloads/">notepad++</a> (windows)</li>
<li><a href="https://www.gnu.org/software/emacs/">emacs</a> (ubuntu, macos, windows)</li>
</ul>
<blockquote>
<p><strong>Note:</strong> If you have never ran <code>git</code> before, make sure to configure your name and email address before continuing. Check out git's documentation for <a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">first time setup</a> (notably the section titled &quot;Your Identity&quot;).</p>
</blockquote>
<p>Verify an acceptable python version is installed (greater than or equal to 3.5).</p>
<p><code>$ python --version</code></p>
<p>Verify git is installed.</p>
<p><code>$ git --version</code></p>
</br>
<p>There are two places to install legoHDL from: GitHub or PYPI.</p>
<h2 id="installing-from-github"><a class="header" href="#installing-from-github">Installing from GitHub</a></h2>
<ol>
<li>Clone the project from GitHub</li>
</ol>
<p><code>$ git clone https://github.com/c-rus/legoHDL.git</code></p>
<ol start="2">
<li>Install the python program using PIP</li>
</ol>
<p><code>$ pip install ./legoHDL</code></p>
<ol start="3">
<li>Delete the cloned project.</li>
</ol>
<p>ubuntu | macos: <code>$ rm -r ./legoHDL</code></p>
<p>windows: <code>$ rmdir /S ./legoHDL</code></p>
<ol start="4">
<li>Verify legoHDL is installed.</li>
</ol>
<p><code>$ legohdl --version</code>
</br></p>
<h2 id="installing-from-pypi"><a class="header" href="#installing-from-pypi">Installing from PYPI</a></h2>
<blockquote>
<p><strong>Note</strong>: This method is currently unavailable.</p>
</blockquote>
<ol>
<li>Install the python program using PIP</li>
</ol>
<p><code>$ pip install legohdl</code></p>
<ol start="2">
<li>Verify legoHDL is installed.</li>
</ol>
<p><code>$ legohdl --version</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initial-setup"><a class="header" href="#initial-setup">Initial Setup</a></h1>
<p>Follow the process below to set up required preliminary settings.</p>
<p>Running <code>legohdl</code> for the first time will prompt the user if they would like to set up a <a href="getting_started/./../glossary.html#profile">profile</a>.</p>
<pre><code>$ legohdl
INFO:	This looks like your first time running legoHDL! Would you like to use a 
profile (import settings, template, and plugins)? [y/n]
</code></pre>
<p>Returning <code>y</code> gives the user 3 choices.</p>
<pre><code>$ y
Enter:
1) nothing for default profile
2) a path or git repository to a profile
3) 'exit' to cancel configuration
</code></pre>
<p>Unless you have a profile already that you would like to use, let's go ahead and return an empty response to use the default profile.</p>
<pre><code>$
INFO:   Setting up default profile...
INFO:   Reloading default profile...
INFO:   Importing default profile...
INFO:   Overloading legohdl.cfg...
CREATED: plugin.hello = echo &quot;hello world!&quot;
CREATED: plugin.demo = python $LEGOHDL/plugins/demo.py
OBSERVE: hdl-styling.auto-fit = on
OBSERVE: hdl-styling.alignment = 1
ALTERED: hdl-styling.port-modifier = w_*
CREATED: [workspace.primary]
CREATED: workspace.primary.path = 
CREATED: workspace.primary.vendors = 
INFO:   Importing template...
INFO:   Overloading template in legohdl.cfg...
OBSERVE: general.template = 
INFO:   Importing plugins...
INFO:   Copying demo.py to built-in plugins folder...
INFO:   Overloading plugins in legohdl.cfg...
OBSERVE: plugin.hello = echo &quot;hello world!&quot;
OBSERVE: plugin.demo = python $LEGOHDL/plugins/demo.py
</code></pre>
<p>legoHDL then asks for your name</p>
<pre><code>Enter your name:
$ Chase Ruskin
ALTERED: general.author = Chase Ruskin
</code></pre>
<p>and how it should call your text-editor to run.</p>
<pre><code>Enter your text-editor:
$ code
ALTERED: general.editor = code
</code></pre>
<p>Finally, you must specify a path for the current active-workspace, which is named &quot;primary&quot; by default.</p>
<pre><code>INFO:	Local path for workspace primary cannot be empty.
Enter path for workspace primary: 
$ ~/develop/hdl/primary/
</code></pre>
<blockquote>
<p><strong>Note</strong>: If the entered path does not exist, legoHDL will notify you and ask to verify the creation of the new path.</p>
</blockquote>
<p>Now the default console output from legoHDL appears. All required configurations are complete.</p>
<pre><code>Usage:         
	legohdl &lt;command&gt; [entry] [&lt;flags&gt;] [-h]   

Commands:
Development
   new          create a new legohdl block (project)
   init         initialize existing code into a legohdl block
   open         open a block with the configured text-editor
   get          print instantiation code for an HDL unit
   graph        visualize HDL dependency graph
   export       generate a blueprint file
   build        execute a custom configured plugin
   release      set a newer version for the current block
   del          delete a block from the local workspace path

Management
   list         print list of all blocks available
   refresh      sync local vendors with their remotes
   install      bring a block to the cache for dependency use
   uninstall    remove a block from the cache
   download     bring a block to the workspace path for development
   update       update an installed block to be its latest version
   info         read further detail about a block
   config       modify legohdl settings

Type 'legohdl help &lt;command&gt;' to read about that command.
</code></pre>
<p>You can modify settings at any time in the GUI with</p>
<pre><code>$ legohdl open -settings
</code></pre>
<p>See <a href="getting_started/../user_guide/managing_settings.html">Managing Settings</a> for more information regarding settings.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tutorials"><a class="header" href="#tutorials">Tutorials</a></h1>
<p>In this chapter, you will be taken through step-by-step lessons to begin working with legoHDL.</p>
<ol>
<li><a href="tutorials/./first_project_gates.html">First Project: Gates</a></li>
<li><a href="tutorials/./ref_blocks_comparator.html">Referencing Blocks: Comparator</a></li>
</ol>
<h3 id="note-hardware-description-languages"><a class="header" href="#note-hardware-description-languages"><em>Note</em>: Hardware Description Languages</a></h3>
<p>The following tutorials have <a href="tutorials/./../glossary.html#hardware-description-languages-hdl">HDL</a> code that is in majority written in VHDL. Basic knowledge of an HDL, such as Verilog, should be sufficient to understanding and following along with the code throughout the tutorials.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-project-gates"><a class="header" href="#first-project-gates">First Project: Gates</a></h1>
<p>On this page, we will go through the entire process for creating, building, and releasing a <a href="tutorials/./../glossary.html#block">block</a>.</p>
<ol>
<li><a href="tutorials/./first_project_gates.html#1-creating-the-block">Creating</a></li>
<li><a href="tutorials/./first_project_gates.html#2-building-the-block">Building</a></li>
<li><a href="tutorials/./first_project_gates.html#3-releasing-the-block">Releasing</a></li>
</ol>
<br>
<h1 id="1-creating-the-block"><a class="header" href="#1-creating-the-block">1. Creating the Block</a></h1>
<p>Let's create our first block, under the name <em>gates</em>, which will be under the <a href="tutorials/./../glossary.html#library">library</a> <em>tutorials</em>. <em>Gates</em> will be a project involving two logical gates: NOR and AND.</p>
<pre><code>$ legohdl new tutorials.gates
</code></pre>
<p>Open the block using your configued text-editor.</p>
<pre><code>$ legohdl open tutorials.gates
</code></pre>
<p>Your text-editor should have opened the block's root folder and a couple of files should be automatically added in the block. This is because a template was used, which we loaded during <a href="tutorials/./../getting_started/2_initial_setup.html">initial setup</a>.</p>
<blockquote>
<p><strong>Note:</strong> The commands presented throughout the remainder of this page assume they are ran from the block's root folder.</p>
</blockquote>
<h2 id="creating-a-new-design-nor-gate"><a class="header" href="#creating-a-new-design-nor-gate">Creating a new design: NOR Gate</a></h2>
<p>Let's create our first HDL design, <em>nor_gate</em>.</p>
<pre><code>$ legohdl new ./src/nor_gate.vhd -file
</code></pre>
<p>Here we specified we wanted to create a new file <code>nor_gate.vhd</code>. Your editor should automatically focus on this new file.</p>
<p>The following is the code for our first HDL design, <em>nor_gate</em>. Copy it into <code>nor_gate.vhd</code>.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.gates
-- Entity: nor_gate
-- Description:
--  Takes two bits and performs the NOR operation. Q = ~(A | B). 
--
--  Both A and B are a singular bit and must both be '0' for Q to be '1'.
--------------------------------------------------------------------------------
library ieee;
use ieee.std_logic_1164.all;

entity nor_gate is
    port(
        a, b : in std_logic;
        q : out std_logic);
end entity;

architecture rtl of nor_gate is
begin
    --logic to drive 'Q' output using 'NOR' keyword
    q &lt;= a nor b;
    
end architecture;
</code></pre>
<br>
<p>Awesome, nothing too fancy going on here. Now its time to reuse our <a href="tutorials/./../glossary.html#intellectual-property-ip">IP</a> in other designs. </p>
<h2 id="reusing-designs-and-gate"><a class="header" href="#reusing-designs-and-gate">Reusing designs: AND Gate</a></h2>
<p>Reusing designs is at the core of what legoHDL is built to be. Not reinventing the wheel saves time and resources that can be spun into designing more innovation, faster. Our next task will be to create a logical AND gate using only NOR gates.</p>
<p>Let's review the schematic for creating an AND gate from purely NOR gates.</p>
<p><img src="tutorials/./../images/AND_from_NOR.svg.png" alt="and_from_nor" /></p>
<p>The design requires 3 instances of a NOR gate.</p>
<br>
<p>Let's create another file <code>and_gate.vhd</code> using the <code>new</code> command like last time.</p>
<pre><code>$ legohdl new ./src/and_gate.vhd -file
</code></pre>
<p>Copy the following code into <code>and_gate.vhd</code>; we will complete it shortly.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.gates
-- Entity: and_gate
-- Description:
--  Takes two bits and performs the AND operation. Q &lt;- A &amp; B. 
--
--  Both A and B are a singular bit and each must be '1' for Q to be '1'. Built
--  from 3 instances of logical NOR gates.
--------------------------------------------------------------------------------
library ieee;
use ieee.std_logic_1164.all;

entity and_gate is
    port(
        a, b : in std_logic;
        q : out std_logic);
end entity;

architecture rtl of and_gate is

begin

    
end architecture;
</code></pre>
<p>HDL languages support the use of a structural modelling technique, which will be applied here to create 3 instances of the NOR gate. </p>
<h3 id="getting-nor-gate"><a class="header" href="#getting-nor-gate">Getting NOR gate</a></h3>
<p>There is a specific syntax within HDL languages that must be followed to instantiate components within larger designs. Not only must a developer get the syntax correct, the developer must know all the I/O ports to list, which can get out of hand as designs become more complex.</p>
<p>We introduce the <code>get</code> command.</p>
<p>Let's generate the VHDL code required to create our NOR gates using our design written in <code>nor_gate.vhd</code>.</p>
<pre><code>$ legohdl get nor_gate -inst
</code></pre>
<p>The console outputs the following:</p>
<pre><code>--- ABOUT ---
------------------------------------------------------------------------------
 Block: tutorials.gates
 Entity: nor_gate
 Description:
  Takes two bits and performs the NOR operation. Q = ~(A | B).

  Both A and B are a singular bit and must both be '0' for Q to be '1'.
------------------------------------------------------------------------------

--- CODE ---
signal w_a : std_logic;
signal w_b : std_logic;
signal w_q : std_logic;

uX : entity work.nor_gate port map(
    a =&gt; w_a,
    b =&gt; w_b,
    q =&gt; w_q);

</code></pre>
<p>The <code>--- ABOUT ---</code> section returns the initial comments from the design's source file to potentially help inform the user.</p>
<p>The <code>--- CODE ---</code> section produces instantly-compatible code to be directly copied and pasted into the necessary design (<code>and_gate.vhd</code> in our case).</p>
<p>After copying and pasting the compatible code and making minor adjustments, our <code>and_gate.vhd</code> should now be complete.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.gates
-- Entity: and_gate
-- Description:
--  Takes two bits and performs the AND operation. Q = A &amp; B. 
--
--  Both A and B are a singular bit and each must be '1' for Q to be '1'. Built
--  from only NOR gates.
--------------------------------------------------------------------------------
library ieee;
use ieee.std_logic_1164.all;

entity and_gate is
    port(
        a, b : in std_logic;
        q : out std_logic);
end entity;

architecture rtl of and_gate is

    signal w_a_not : std_logic;
    signal w_b_not : std_logic;
    signal w_q : std_logic;

begin
    --negate a
    u_A_NOT : entity work.nor_gate port map(
        a =&gt; a,
        b =&gt; a,
        q =&gt; w_a_not);

    --negate b
    u_B_NOT : entity work.nor_gate port map(
        a =&gt; b,
        b =&gt; b,
        q =&gt; w_b_not);
    
    --perform /a nor /b
    u_A_AND_B : entity work.nor_gate port map(
        a =&gt; w_a_not,
        b =&gt; w_b_not,
        q =&gt; w_q);

    --drive output
    q &lt;= w_q;

end architecture;
</code></pre>
<h2 id="viewing-a-design"><a class="header" href="#viewing-a-design">Viewing a design</a></h2>
<p>In our project, <em>and_gate</em> depends on <em>nor_gate</em>. We can visualize this dependency by using the <code>graph</code> command.</p>
<pre><code>$ legohdl graph
</code></pre>
<p>The console outputs the following:</p>
<pre><code>INFO:   Identified top-level unit: and_gate
WARNING:        No testbench detected.
INFO:   Generating dependency tree...
--- DEPENDENCY TREE ---
\- tutorials.and_gate 
   \- tutorials.nor_gate 


--- BLOCK ORDER ---
[1]^-   tutorials.gates(@v0.0.0)

</code></pre>
<blockquote>
<p><strong>Note:</strong> If at any point you want to stop the tutorial and continue later, you can always reopen your text editor and terminal at the block's root folder, or from anywhere run:
<code>legohdl open tutorials.gates</code></p>
</blockquote>
<br>
<h1 id="2-building-the-block"><a class="header" href="#2-building-the-block">2. Building the Block</a></h1>
<p>The other half to hardware designing involves verification. We will create a testbench to verify the entity <em>and_gate</em> behaves according to the following truth table.</p>
<table><thead><tr><th>A</th><th>B</th><th>Q</th></tr></thead><tbody>
<tr><td>0</td><td>0</td><td>0</td></tr>
<tr><td>0</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>0</td><td>0</td></tr>
<tr><td>1</td><td>1</td><td>1</td></tr>
</tbody></table>
<h2 id="creating-a-file-from-the-template"><a class="header" href="#creating-a-file-from-the-template">Creating a file from the template</a></h2>
<p>Different types of HDL files can follow similiar code layouts, such as when designing a 2-process FSM or a testbench. For these situations, its beneficial to create a boilerplate template file for when that code-style is needed.</p>
<p>We can see what files exist in our legoHDL template by using the <code>list</code> command.</p>
<pre><code>$ legohdl list -template
INFO:   Files available within the selected template: C:/Users/chase/.legohdl/template/
Relative Path                                                Hidden  
------------------------------------------------------------ --------
/.gitignore                                                  -
/.hidden/tb/TEMPLATE.vhd                                     yes
/src/TEMPLATE.vhd                                            -
</code></pre>
<p>We have a testbench template file <code>/.hidden/tb/TEMPLATE.vhd</code> available for use within our template, however, it wasn't automatically copied into our project when we created it because it is hidden.</p>
<p>Reference this file for creating our testbench <code>and_gate_tb.vhd</code>.</p>
<pre><code>$ legohdl new ./test/and_gate_tb.vhd -file=&quot;/.hidden/tb/TEMPLATE.vhd&quot;
</code></pre>
<p>The contents of <code>and_gate_tb.vhd</code> should resemble the following:</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block   : tutorials.gates
-- Author  : Chase Ruskin
-- Created : December 16, 2021
-- Entity  : and_gate_tb
--------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;

entity and_gate_tb is
end entity;

architecture bench of and_gate_tb is
    --declare DUT component

    --declare constants/signals
    constant dly : time := 10 ns;

begin
    --instantiate DUT

    --verify design within process
    process begin


        report &quot;SIMULATION COMPLETE&quot;;
        wait;
    end process;

end architecture;
</code></pre>
<h2 id="getting-a-component-declaration-and-instantiation"><a class="header" href="#getting-a-component-declaration-and-instantiation">Getting a component declaration and instantiation</a></h2>
<p>Now we need to instantiate our Design-Under-Test (DUT), which is <em>and_gate</em>, and run it through the previous truth table.</p>
<p>Use the <code>get</code> command to return both the component declaration and instantiation code for the <em>and_gate</em> entity.</p>
<pre><code>$ legohdl get and_gate -comp -inst
</code></pre>
<p>The console outputs the following:</p>
<pre><code>--- ABOUT ---
------------------------------------------------------------------------------
 Block: tutorials.gates
 Entity: and_gate
 Description:
  Takes two bits and performs the AND operation. Q &lt;- A &amp; B.

  Both A and B are a singular bit and each must be '1' for Q to be '1'. Built
  from only NOR gates.
------------------------------------------------------------------------------

--- CODE ---
component and_gate
port(
    a : in  std_logic;
    b : in  std_logic;
    q : out std_logic);
end component;

signal w_a : std_logic;
signal w_b : std_logic;
signal w_q : std_logic;

uX : and_gate port map(
    a =&gt; w_a,
    b =&gt; w_b,
    q =&gt; w_q);

</code></pre>
<p>In <code>and_gate_tb.vhd</code>, perform the following:</p>
<ol>
<li>Below the line <code>--declare DUT component</code>, copy and paste the component declaration. </li>
<li>Below the line <code>--declare constants/signals</code>, copy and paste the I/O connection signals. </li>
<li>Below the line <code>--instantiate DUT</code>, copy and paste the instantiation code.</li>
</ol>
<p>Now within our process we write a few lines of code to assert the DUT functions properly.</p>
<p>The testbench <em>and_gate_tb</em> is now complete.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block   : tutorials.gates
-- Author  : Chase Ruskin
-- Created : December 16, 2021
-- Entity  : and_gate_tb
--------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;

entity and_gate_tb is
end entity;

architecture bench of and_gate_tb is
	--declare DUT component
	component and_gate
	port(
		a : in  std_logic;
		b : in  std_logic;
		q : out std_logic);
	end component;

	--declare constants/signals
	constant dly : time := 10 ns;
	signal w_a : std_logic;
	signal w_b : std_logic;
	signal w_q : std_logic;

begin
	--instantiate DUT
	DUT : and_gate port map(
		a =&gt; w_a,
		b =&gt; w_b,
		q =&gt; w_q);

	--verify design within process
	process begin
		--test 00
		w_a &lt;= '0';
		w_b &lt;= '0';
		wait for dly;
		assert w_q = '0' report &quot;(0 &amp; 0) /= 1&quot; severity error;
		
		--test 01
		w_a &lt;= '0';
		w_b &lt;= '1';
		wait for dly;
		assert w_q = '0' report &quot;(0 &amp; 1) /= 1&quot; severity error;

		--test 10 
		w_a &lt;= '1';
		w_b &lt;= '0';
		wait for dly;
		assert w_q = '0' report &quot;(1 &amp; 0) /= 1&quot; severity error;

		--test 11
		w_a &lt;= '1';
		w_b &lt;= '1';
		wait for dly;
		assert w_q = '1' report &quot;(1 &amp; 1) /= 0&quot; severity error;

		report &quot;SIMULATION COMPLETE&quot;;
		wait;
	end process;

end architecture;
</code></pre>
<p>Our testbench uses an instance of the entity <em>and_gate</em>. Let's verify this with the <code>graph</code> command like last time.</p>
<pre><code>$ legohdl graph
INFO:   Identified top-level unit: and_gate
INFO:   Identified top-level testbench: and_gate_tb
INFO:   Generating dependency tree...
--- DEPENDENCY TREE ---
\- tutorials.and_gate_tb 
   \- tutorials.and_gate 
      \- tutorials.nor_gate 


--- BLOCK ORDER ---
[1]^-   tutorials.gates(@v0.0.0)

</code></pre>
<h2 id="generating-a-blueprint"><a class="header" href="#generating-a-blueprint">Generating a blueprint</a></h2>
<p>At this point in the design process, we want to verify that <em>and_gate</em> is performing correctly before we begin using it. We introduce 2 new commands to handle this: <code>export</code> and <code>build</code>.</p>
<blockquote>
<p><strong>Note:</strong> For the purposes of this tutorial trying to be as dependency-free as possible so that everyone may follow it, we will utilize a <em>pseudo-plugin</em> called <strong>demo</strong>. This is a legoHDL plugin that mainly just prints text to the console. We will use this to avoid assuming/forcing a backend EDA tool/simulator.</p>
</blockquote>
<p>From the <code>graph</code> command, we can see legoHDL knows how our designs are connected, yet our <a href="tutorials/./../glossary.html#plugin">plugin</a> does not. We need a way to tell our plugin what files we need to build our current design.</p>
<p>Create a <a href="tutorials/./../glossary.html#blueprint">blueprint</a> so any plugin can know what files will be are needed.</p>
<pre><code>$ legohdl export
</code></pre>
<p>The last line from the console should say where the blueprint file is located:</p>
<pre><code>INFO:   Blueprint found at: C:/Users/chase/develop/hdl/tutorials/gates/build/blueprint
</code></pre>
<h2 id="building-a-design"><a class="header" href="#building-a-design">Building a design</a></h2>
<p>Now that the blueprint is created, we can build our project with a plugin. Let's look at what plugins we have available.</p>
<pre><code>$ legohdl list -plugin
Alias           Command     
--------------- ----------------------------------------------------------------
hello           echo &quot;hello world!&quot;
demo            python $LEGOHDL/plugins/demo.py
</code></pre>
<p>We currently have 2 plugins at our disposal: <strong>hello</strong> and <strong>demo</strong>.
The <strong>hello</strong> plugin will only output &quot;hello world!&quot; to our console; not helpful at all but demonstrates that plugins are at the most basic level a command.</p>
<pre><code>$ legohdl build +hello
INFO:   echo &quot;hello world!&quot; 
hello world!
</code></pre>
<p>Build with the <strong>demo</strong> plugin.</p>
<pre><code>$ legohdl build +demo
</code></pre>
<p>The plugin's help text will display due to the plugin internally defining this functionality. legoHDL's role during <code>build</code> is to only pass off the command <code>python $LEGOHDL/plugins/demo.py</code> to the terminal to execute.</p>
<blockquote>
<p><strong>Note:</strong> All arguments after the plugin's alias will be also passed down from legoHDL to the terminal when it executes the plugin's command.</p>
</blockquote>
<p>Build with the <strong>demo</strong> plugin to perform a pseudo-simulation.</p>
<pre><code>$ legohdl build +demo -sim
INFO:   python $LEGOHDL/plugins/demo.py -sim 
echo PSEUDO SIMULATOR 
PSEUDO SIMULATOR
Compiling files...
VHDL C:/Users/chase/develop/hdl/tutorials/gates/src/nor_gate.vhd
VHDL C:/Users/chase/develop/hdl/tutorials/gates/src/and_gate.vhd
VHDL C:/Users/chase/develop/hdl/tutorials/gates/test/and_gate_tb.vhd
Running simulation using testbench and_gate_tb...
Simulation complete.
</code></pre>
<br>
<h1 id="3-releasing-the-block"><a class="header" href="#3-releasing-the-block">3. Releasing the Block</a></h1>
<h2 id="creating-a-block-level-vhdl-package"><a class="header" href="#creating-a-block-level-vhdl-package">Creating a block-level VHDL package</a></h2>
<p>Before we release the first version, let's create a package file that consists of all the component declarations available within this block. A package is an optional but helpful VHDL unit that will allow easier reference to these components later. legoHDL automates this package file creation.</p>
<pre><code>$ legohdl export -pack=&quot;./src/gates.vhd&quot;
</code></pre>
<p>We specified the VHDL package file to be created at <code>./src/gates.vhd</code>. Opening the file shows the following contents.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.gates
-- Created: December 16, 2021
-- Package: gates
-- Description:
--  Auto-generated package file by legoHDL. Components declared:
--      nor_gate    and_gate    
--------------------------------------------------------------------------------
 
library ieee;
use ieee.std_logic_1164.all;
 
package gates is
 
    component nor_gate
    port(
        a : in  std_logic;
        b : in  std_logic;
        q : out std_logic);
    end component;
 
    component and_gate
    port(
        a : in  std_logic;
        b : in  std_logic;
        q : out std_logic);
    end component;
 
end package;

</code></pre>
<h2 id="setting-the-first-version"><a class="header" href="#setting-the-first-version">Setting the first version</a></h2>
<p>We are done making changes and working with the HDL code within this block; it's time for release! We will call this version 1.0.0.</p>
<pre><code>$ legohdl release v1.0.0
</code></pre>
<p>We can check the status of all of our workspace's blocks in the catalog using the <code>list</code> command.</p>
<pre><code>$ legohdl list
Library          Block                Status   Version    Vendor          
---------------- -------------------- -------- ---------- ----------------
tutorials        gates                D I      1.0.0                             
</code></pre>
<p>Notice that the <code>release</code> command also installed the <em>gates</em> block to the workspace cache, indicated by the <code>I</code> in status.
The <code>D</code> indicates the block is also downloaded/developing because it is found in our workspace's local development path.</p>
<p>We are done developing <em>gates</em>, so close the text-editor and delete the block from the downloads space.</p>
<pre><code>$ legohdl del gates
</code></pre>
<blockquote>
<p><strong>Note:</strong> Deleting the folder where the project is located will have the same effect as the command above.</p>
</blockquote>
<h1 id="page-review"><a class="header" href="#page-review">Page Review</a></h1>
<p>Woo-hoo! On this page, We learned how to:</p>
<ul>
<li>create a new block and new files with <code>new</code></li>
<li>view blocks, plugins, and template files with <code>list</code></li>
<li>check how our design connects together with <code>graph</code></li>
<li>generate a blueprint file of the current design with <code>export</code></li>
<li>build with a plugin that will perform some desired action with <code>build</code></li>
<li>create a VHDL package file consisting of the block's components with <code>export -pack</code></li>
<li>release a completed block with a specified version with <code>release</code></li>
</ul>
<p>On the next page, we will see how legoHDL handles using HDL designs from external blocks by making a new block <em>comparator</em> that will require the <em>gates</em> block.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-blocks-comparator"><a class="header" href="#using-blocks-comparator">Using Blocks: Comparator</a></h1>
<p>On this page, we begin to see more of the package management aspects of legoHDL as we create a second project called <em>comparator</em>. </p>
<ol>
<li><a href="tutorials/./ref_blocks_comparator.html#1-editing-the-template">Editing the template</a></li>
<li><a href="tutorials/./ref_blocks_comparator.html#2-creating-xor-gate">Creating XOR gate</a></li>
<li><a href="tutorials/./ref_blocks_comparator.html#3-creating-a-comparator">Creating a Comparator</a></li>
<li><a href="tutorials/./ref_blocks_comparator.html#4-defining-labels">Defining Labels</a></li>
</ol>
<p><em>Comparator</em> will need to use external designs previously created in the block <em>gates</em>. Before we create our next block, let's learn how to edit the template.</p>
<h2 id="1-editing-the-template"><a class="header" href="#1-editing-the-template">1. Editing the template</a></h2>
<p>Open the template's folder.</p>
<pre><code>$ legohdl open -template
</code></pre>
<p>All files in here we will copied when creating a new block, except for any files within folders beginning with <code>.</code>. A <a href="tutorials/./../glossary.html#blockcfg">Block.cfg</a> file will always be created by legoHDL for every block, so no need to include that here.</p>
<p>Edit the <code>./src/TEMPLATE.vhd</code> file with the following code.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: %BLOCK%
-- Author: %AUTHOR%
-- Created: %DATE%
-- Entity: TEMPLATE
-- Description:
--
--------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;

entity TEMPLATE is
	port(
	
	);
end entity;


architecture rtl of TEMPLATE is


begin


end architecture;
</code></pre>
<p>We use <a href="tutorials/./../glossary.html#placeholder">placeholders</a> to mark the spot for data be filled in when the file is created. These placeholders will change values based on factors external of the template, such as today's date for <code>%DATE%</code>, the block's identifier for <code>%BLOCK%</code>, or the file's name for <code>TEMPLATE</code>.</p>
<p>Save the file and exit the template.</p>
<p>Create a new block <code>comparator</code> under the library <code>tutorials</code> and open it.</p>
<pre><code>$ legohdl new tutorials.comparator -open
</code></pre>
<p>Our comparator will require an XOR gate, so let's design an XOR gate next.</p>
<br>
<h2 id="2-creating-xor-gate"><a class="header" href="#2-creating-xor-gate">2. Creating XOR gate</a></h2>
<p>The first design for the <em>comparator</em> block will be an XOR gate.</p>
<p>Let's review the schematic for an XOR gate from purely NOR gates.</p>
<p><img src="tutorials/./../images/XOR_from_NOR.svg.png" alt="xor_from_nor" /></p>
<p>Notice how the upper 3 NOR gates are the equivalent to the AND gate we previously designed. Rather than using 5 instances of a NOR gate, we will save time by using 1 AND gate instance and 2 instances of the NOR gate.</p>
<p>Create a new file from our previously edited template file and call it <code>xor_gate.vhd</code>.</p>
<pre><code>$ legohdl new ./src/xor_gate.vhd -file=&quot;/src/TEMPLATE.vhd&quot;
</code></pre>
<p>Fill in a description for how the design will behave below the <code>-- Description:</code> line. Note that the block's identifier, your name, and the day's date should already be filled in. Also define the entity's port interface.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.comparator
-- Author: Chase Ruskin
-- Created: December 18, 2021
-- Entity: xor_gate
-- Description:
--	Q = A ^ B.
--	
--	Takes two singular bits A and B, and performs the XOR operation to produce
--	Q.
--------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;

entity xor_gate is
    port(
        a, b : in std_logic;
        q : out std_logic);
end entity;
...
</code></pre>
<p>Now it is time to describe the architecture according to the previous schematic.</p>
<p>Hang on, <em>and_gate</em> and <em>nor_gate</em> are not defined in this block!</p>
<p>That's okay, accessing these entities is the same as before.</p>
<pre><code>$ legohdl get and_gate -inst
--- ABOUT ---
------------------------------------------------------------------------------
 Block: tutorials.gates
 Entity: and_gate
 Description:
  Takes two bits and performs the AND operation. Q &lt;- A &amp; B.

  Both A and B are a singular bit and each must be '1' for Q to be '1'. Built
  from 3 instances of logical NOR gates.
------------------------------------------------------------------------------

--- CODE ---
signal a : std_logic;
signal b : std_logic;
signal q : std_logic;

uX : entity tutorials.and_gate port map(
    a =&gt; a,
    b =&gt; b,
    q =&gt; q);
</code></pre>
<blockquote>
<p><strong>Note:</strong> Specifying the entity's entire scope will produce the same result. <code>legohdl get tutorials.gates:and_gate -inst</code></p>
</blockquote>
<p>Copy and paste the outputted code to instantiate an <em>and_gate</em>. Connect signals according to the schematic.</p>
<p>Get the <em>nor_gate</em> instance code.</p>
<pre><code>$ legohdl get nor_gate -inst
--- ABOUT ---
------------------------------------------------------------------------------
 Block: tutorials.gates
 Entity: nor_gate
 Description:
  Takes two bits and performs the NOR operation. Q = ~(A | B).

  Both A and B are a singular bit and must both be '0' for Q to be '1'.
------------------------------------------------------------------------------

--- CODE ---
signal a : std_logic;
signal b : std_logic;
signal q : std_logic;

uX : entity tutorials.nor_gate port map(
    a =&gt; a,
    b =&gt; b,
    q =&gt; q);
</code></pre>
<p>Copy and paste the <em>nor_gate</em> code to create 2 instances connected together with the 1 <em>and_gate</em> according to the schematic.</p>
<p>The final code should resemble the following.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.comparator
-- Author: Chase Ruskin
-- Created: December 18, 2021
-- Entity: xor_gate
-- Description:
--	Q = A ^ B.
--	
--	Takes two singular bits A and B, and performs the XOR operation to produce
--	Q.
--------------------------------------------------------------------------------

library ieee;
library tutorials;
use ieee.std_logic_1164.all;

entity xor_gate is
    port(
        a, b : in std_logic;
        q : out std_logic);
end entity;


architecture rtl of xor_gate is

	signal w_and_q : std_logic;
	signal w_nor_q : std_logic;

begin
	--send inputs A and B through AND-gate
	u_AND : entity tutorials.and_gate port map(
		a =&gt; a,
		b =&gt; b,
		q =&gt; w_and_q);
	
	--send inputs A and B through NOR-gate
	u_NOR : entity tutorials.nor_gate port map(
		a =&gt; a,
		b =&gt; b,
		q =&gt; w_nor_q);
	
	--send outputs from AND and NOR through a NOR-gate to produce XOR
	u_XOR : entity tutorials.nor_gate port map(
		a =&gt; w_and_q,
		b =&gt; w_nor_q,
		q =&gt; q);

end architecture;
</code></pre>
<blockquote>
<p><strong>Note:</strong> <em>nor_gate</em> and <em>and_gate</em> are external HDL files. They belong to the library <em>tutorials</em>. Since we instantiated them using VHDL's entity instantiation technique, we must declare their library at the top of the file with the line <code>library tutorials;</code></p>
</blockquote>
<p>Run the graph command, but now with each entity's entire scope being displayed using the <code>-disp-full</code> <a href="tutorials/./../glossary.html#flag">flag</a>.</p>
<pre><code>$ legohdl graph -disp-full
INFO:	Identified top-level unit: xor_gate
WARNING:	No testbench detected.
INFO:	Generating dependency tree...
--- DEPENDENCY TREE ---
\- tutorials.comparator:xor_gate 
   +- tutorials.gates:and_gate 
   |  \- tutorials.gates:nor_gate 
   \- tutorials.gates:nor_gate 


--- BLOCK ORDER ---
[2]^-	tutorials.comparator(@v0.0.0)
[1]^-	tutorials.gates(@v1.0.0)
</code></pre>
<p>Looks good! Notice how we now have a block order of requirements, and it shows what version of the block <em>gates</em> is being referenced to create the current design.</p>
<h2 id="3-creating-a-comparator"><a class="header" href="#3-creating-a-comparator">3. Creating a Comparator</a></h2>
<p>Now open <code>./src/comparator.vhd</code> to create our final design, which will use 3 <em>nor_gates</em>, 2 <em>and_gates</em>, and 1 <em>xor_gate</em>.</p>
<p>First, write a description about our design and fill in the entity interface.</p>
<pre><code class="language-VHDL">--------------------------------------------------------------------------------
-- Block: tutorials.comparator
-- Author: Chase Ruskin
-- Created: December 18, 2021
-- Entity: comparator
-- Description:
--	Compares two singular bits: A and B. Outputs 3 different results. 
--
--	'lt' = (A &lt; B)
--	'eq' = (A == B)
--	'gt' = (A &gt; B)
--------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;

entity comparator is
	port(
		a, b : in std_logic;
		lt, eq, gt : out std_logic);
end entity;
</code></pre>
<p>Now imagine we have completely blanked on what entities we can use. How could we remember?</p>
<p>View what blocks are available.</p>
<pre><code>$ legohdl list
Library          Block                Status   Version    Vendor
---------------- -------------------- -------- ---------- ----------------
tutorials        comparator           D
tutorials        gates                  I      1.0.0
</code></pre>
<p>Okay, we have a <em>gates</em> block installed to use, but what entities were designed in there?</p>
<p>View information about the <em>gates</em> block.</p>
<pre><code>$ legohdl info tutorials.gates
--- METADATA ---    
[block]
name     = gates    
library  = tutorials
version  = 1.0.0    
remote   = 
vendor   = 
requires = ()   
</code></pre>
<p>Not very helpful right now, but we can see the metadata defined in its Block.cfg. Let's try to get more information with the <code>-more</code> flag.</p>
<pre><code>$ legohdl info tutorials.gates -more
--- METADATA ---    
[block]
name     = gates    
library  = tutorials
version  = 1.0.0    
remote   =
vendor   =
requires = ()

--- STATS ---
Location = C:/Users/chase/.legohdl/workspaces/primary/cache/_/tutorials/gates/gates/
Size     = 31.98 KB
Level    = INSTL
Required by:
        N/A

VHDL units:
    and_gate       gates          nor_gate       and_gate_tb
</code></pre>
<p>And look! We can see what VHDL primary design units are defined in the block (as well as if there were any Verilog modules). </p>
<p>Now that we know the units at our disposal, let's inspect them.</p>
<pre><code>$ legohdl get gates
--- ABOUT ---
------------------------------------------------------------------------------
 Block: tutorials.gates
 Created: December 16, 2021
 Package: gates
 Description:
  Auto-generated package file by legoHDL. Components declared:
      and_gate    nor_gate
------------------------------------------------------------------------------

</code></pre>
<p><em>gates</em> is a VHDL package file. Let's use it to help instantiate our <em>nor_gate</em> and <em>and_gate</em>.</p>
<p>Add the <code>library</code> and <code>use</code> clauses for the <em>gates</em> package above <code>library ieee;</code>. </p>
<pre><code class="language-VHDL">library tutorials;
use tutorials.gates.all;
library ieee;
...
</code></pre>
<p>In the <em>comparator's</em> architecture, we only need the component instantiations for <em>and_gate</em> and <em>nor_gate</em>. We can access those by combining flags <code>-comp</code> and <code>-inst</code>.</p>
<p>Get the component instantiations for <em>nor_gate</em> and <em>and_gate</em>, as well as the entity instantiation for <em>xor_gate</em>.</p>
<pre><code>$ legohdl get and_gate -comp -inst
</code></pre>
<pre><code>$ legohdl get nor_gate -comp -inst
</code></pre>
<pre><code>$ legohdl get xor_gate -inst
</code></pre>
<p>Copy and paste their outputted code into <code>comparator.vhd</code>, and connect signals accordingly. The final comparator architecture resembles the following.</p>
<pre><code class="language-VHDL">architecture rtl of comparator is

	signal w_not_a : std_logic;
	signal w_not_b : std_logic;
	signal w_not_eq : std_logic;

begin
	--invert incoming A bit
	u_NEG_A : nor_gate port map(
		a =&gt; a,
		b =&gt; a,
		q =&gt; w_not_a);
	
	--invert incoming B bit
	u_NEG_B : nor_gate port map(
		a =&gt; b,
		b =&gt; b,
		q =&gt; w_not_b);
	
	--output a &lt; b when /a = '0' and b = '1'
	u_AND_LT : and_gate port map(
		a =&gt; w_not_a,
		b =&gt; b,
		q =&gt; lt);
	
	--output a &gt; b when a = '1' and /b = '0'
	u_AND_GT : and_gate port map(
		a =&gt; a,
		b =&gt; w_not_b,
		q =&gt; gt);
		
	--inequality logic created by XOR
	u_NOT_EQ : entity work.xor_gate port map(
		a =&gt; a,
		b =&gt; b,
		q =&gt; w_not_eq);
	
	--invert the XOR output to get equality logic
	u_EQ : nor_gate port map(
		a =&gt; w_not_eq,
		b =&gt; w_not_eq,
		q =&gt; eq);

end architecture;
</code></pre>
<p>View the current design's hierarchy tree.</p>
<pre><code>$ legohdl graph
INFO:	Identified top-level unit: comparator
WARNING:	No testbench detected.
INFO:	Generating dependency tree...
--- DEPENDENCY TREE ---
\- tutorials.comparator 
   +- tutorials.nor_gate 
   +- tutorials.and_gate [A]
   |  \- tutorials.nor_gate 
   \- tutorials.xor_gate 
      +- tutorials.and_gate [A]
      \- tutorials.nor_gate 


--- BLOCK ORDER ---
[2]^-	tutorials.comparator(@v0.0.0)
[1]^-	tutorials.gates(@v1.0.0)
</code></pre>
<p>Awesome! This is how we intended our design to look.</p>
<blockquote>
<p><strong>Note:</strong> Graphs are compressed by default; meaning duplicate branches use referecnce points. Use <code>-expand</code> to see the graph completely output duplicate branches.</p>
</blockquote>
<p>Export a blueprint file so we can use a plugin to build our design.</p>
<pre><code>$ legohdl export
</code></pre>
<h2 id="4-defining-labels"><a class="header" href="#4-defining-labels">4. Defining Labels</a></h2>
<p>Commonly, your <a href="tutorials/./../glossary.html#workflow">workflow</a> for your HDL projects may require project-specific files outside of the HDL code such as constraints files, test vector files, tcl scripts, etc. </p>
<p>Imagine our task now is to use our pseudo-plugin to implement this design for an FPGA.</p>
<p>Try to route (implement) our exported design using the <strong>demo</strong> plugin.</p>
<pre><code>$ legohdl build +demo -route
INFO:	python $LEGOHDL/plugins/demo.py -route 
Error: no routing file (.csv) was found for label @PIN-MAP.
</code></pre>
<blockquote>
<p><strong>Note:</strong> Remember, the plugin produced its own error; all build commands are simply a wrapper for the entered plugin's command.</p>
</blockquote>
<p>Our plugin expects a custom <a href="tutorials/./../glossary.html#label">label</a> to collect data for the routing step.</p>
<p>FPGA implementations typically require a constraints file like in this example, which lists the pin assginments for our top-level design. </p>
<p>For our projects, our constraints file will be <code>.csv</code> files. How can we get this file into our blueprint for our plugin to use?</p>
<p>Add a new local label called <code>PIN-MAP</code> that will search for any <code>.csv</code> files within the current block.</p>
<pre><code>$ legohdl config -&quot;label.local.PIN-MAP=*.csv&quot;
CREATED: label.local.pin-map = *.csv
</code></pre>
<p>Create a new file called <code>pins.csv</code>.</p>
<pre><code>$ legohdl new ./pins.csv -file
</code></pre>
<p>Copy the following contents in <code>./pins.csv</code>.</p>
<pre><code class="language-CSV">PA1,a
PA7,b
PC3,lt
PC2,gt
PC0,eq
</code></pre>
<p>Assume our FPGA has pins called <code>PA1</code>, <code>PA7</code>, <code>PC3</code>, <code>PC2</code>, and <code>PC0</code>, that we want to map to our design's ports <code>a</code>, <code>b</code>, <code>lt</code>, <code>gt</code>, and <code>eq</code>, respectively.</p>
<p>Export a new blueprint.</p>
<pre><code>$ legohdl export
</code></pre>
<p>Inspecting the blueprint file, we can see legoHDL included a file under the custom <code>PIN-MAP</code> label.</p>
<pre><code>@PIN-MAP C:/Users/chase/develop/hdl/tutorials/comparator/pins.csv
@VHDL-LIB tutorials C:/Users/chase/.legohdl/workspaces/primary/cache/_/tutorials/gates/gates/src/gates.vhd
@VHDL-LIB tutorials C:/Users/chase/.legohdl/workspaces/primary/cache/_/tutorials/gates/gates/src/nor_gate.vhd
@VHDL-LIB tutorials C:/Users/chase/.legohdl/workspaces/primary/cache/_/tutorials/gates/gates/src/and_gate.vhd
@VHDL-SRC C:/Users/chase/develop/hdl/tutorials/comparator/src/xor_gate.vhd
@VHDL-SRC C:/Users/chase/develop/hdl/tutorials/comparator/src/comparator.vhd
@VHDL-SRC-TOP comparator C:/Users/chase/develop/hdl/tutorials/comparator/src/comparator.vhd
</code></pre>
<p>Now rebuild with the <strong>demo</strong> plugin and its <code>-route</code> option.</p>
<pre><code>$ legohdl build +demo -route
INFO:	python $LEGOHDL/plugins/demo.py -route 
echo PSEUDO PIN MAPPER 
PSEUDO PIN MAPPER 
Routing pins for device A2CG1099-1...
PA1 --&gt; a
PA7 --&gt; b
PC3 --&gt; lt
PC2 --&gt; gt
PC0 --&gt; eq
Pin assignments complete.
</code></pre>
<p>Great work! We've customized our workflow to go along with our plugin. </p>
<blockquote>
<p><strong>Note:</strong> Remember, plugins are developed by <em>you</em>, meaning you can choose what labels to expect and what to do with the listed files in the blueprint!</p>
</blockquote>
<h1 id="page-review-1"><a class="header" href="#page-review-1">Page Review</a></h1>
<p>Woo-hoo! On this page, we learned how to:</p>
<ul>
<li>edit the template and use placeholders for generic run-time values within files</li>
<li>use entities from outside the current block</li>
<li>find information such as units defined for a particular block with <code>info</code></li>
<li>create a label to search for particular supportive files during export and added into the blueprint</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-guide"><a class="header" href="#user-guide">User Guide</a></h1>
<p>In this chapter, you will learn how to use legoHDL for common problems and scenarios.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="converting-code"><a class="header" href="#converting-code">Converting Code</a></h1>
<p>This page walks through the general procedure for transforming an already existing HDL project into a usable block
within legoHDL.</p>
<br>
<h3 id="local-projects"><a class="header" href="#local-projects">Local projects</a></h3>
<ol>
<li>Determine the local path of your current workspace.</li>
</ol>
<pre><code>$ legohdl list -workspace
</code></pre>
<ol start="2">
<li>
<p>Move the HDL project's root folder within the current workspace's local path.</p>
</li>
<li>
<p>Open a terminal at the HDL project's root folder.</p>
</li>
<li>
<p>Initialize a block and provide its <a href="user_guide/./../glossary.html#block-identifier">identifier</a>, <code>&lt;block&gt;</code>.</p>
</li>
</ol>
<pre><code>$ legohdl init &lt;block&gt;
</code></pre>
<br>
<h3 id="remote-projects"><a class="header" href="#remote-projects">Remote projects</a></h3>
<ol>
<li>
<p>Copy the remote repository URL (paste it where <code>&lt;url&gt;</code> is in the following command).</p>
</li>
<li>
<p>From the terminal run, create a new block and provide its <a href="user_guide/./../glossary.html#block-identifier">identifier</a>, <code>&lt;block&gt;</code>. </p>
<ul>
<li>
<p>Add the <code>-fork</code> flag to detach the block from the remote repository url if you will not be able to push changes to it.</p>
</li>
<li>
<p>Add the <code>-open</code> flag to optionally open the block in your configured text-editor.</p>
</li>
</ul>
</li>
</ol>
<pre><code>$ legohdl new &lt;block&gt; -remote=&quot;&lt;url&gt;&quot;
</code></pre>
<br>
<h1 id="off-the-shelf-examples"><a class="header" href="#off-the-shelf-examples">Off-The-Shelf Examples</a></h1>
<p>This section lists random or popular HDL git repositories available on GitHub that are easily integrated into legoHDL.</p>
<h2 id="basic-risc-v-cpu"><a class="header" href="#basic-risc-v-cpu">Basic RISC-V CPU</a></h2>
<ul>
<li>Project: https://github.com/Domipheus/RPU.git</li>
<li>Author: <a href="https://github.com/Domipheus">Colin Riley</a></li>
</ul>
<p>One-line command:</p>
<pre><code>$ legohdl new cpu.riscv -remote=&quot;https://github.com/Domipheus/RPU.git&quot; -fork -open
</code></pre>
<p>From the project's root directory:</p>
<pre><code>$ legohdl info -more
--- METADATA ---
[block]
name     = riscv
library  = cpu
version  = 0.0.0
remote   = 
vendor   = 
requires = ()

--- STATS ---
Location = /Users/chase/develop/eel4712c/cpu/riscv/
Size     = 465.19 KB
Level    = DNLD
Required by:
        N/A

VHDL units:
    tb_unit_decoder_RV32_01    alu_int32_div_tb           
    tb_unit_alu_RV32I_01       rpu_core_tb                
    register_set               constants                  
    core                       alu_RV32I                  
    mem_controller             control_unit               
    decoder_RV32               alu_int32_div              
    lint_unit                  csr_unit                   
    pc_unit                    
</code></pre>
<p>Viewing the entity design hierarchy:</p>
<pre><code>$ legohdl graph
INFO:   Identified top-level unit: core
INFO:   Identified top-level testbench: rpu_core_tb
INFO:   Generating dependency tree...
--- DEPENDENCY TREE ---
\- cpu.rpu_core_tb 
   \- cpu.core 
      +- cpu.mem_controller 
      +- cpu.pc_unit 
      +- cpu.control_unit 
      +- cpu.decoder_RV32 
      +- cpu.alu_RV32I 
      |  \- cpu.alu_int32_div 
      +- cpu.register_set 
      +- cpu.csr_unit 
      \- cpu.lint_unit 


--- BLOCK ORDER ---
[1]^-   cpu.riscv(@v0.0.0)
</code></pre>
<p>Everything checks out; from here you can release this block as a new version using <code>release</code> and reuse any designs in a different project.</p>
<h2 id="simple-uart"><a class="header" href="#simple-uart">Simple UART</a></h2>
<ul>
<li>Project: https://github.com/jakubcabal/uart-for-fpga</li>
<li>Author: <a href="https://github.com/jakubcabal">Jakub Cabal</a></li>
</ul>
<p>One-line command:</p>
<pre><code>$ legohdl new comms.uart -remote=https://github.com/jakubcabal/uart-for-fpga.git -fork -open
</code></pre>
<p>From the project's root directory:</p>
<pre><code>$ legohdl info -more
--- METADATA ---
[block]
name     = uart
library  = comms
version  = 0.0.0
remote   = 
vendor   = 
requires = ()

--- STATS ---
Location = /Users/chase/develop/eel4712c/comms/uart/
Size     = 331.37 KB
Level    = DNLD
Required by:
        N/A

VHDL units:
    RST_SYNC                 UART_LOOPBACK_CYC1000    UART2WBM                 
    UART2WB_FPGA_CYC1000     UART                     UART_PARITY              
    UART_CLK_DIV             UART_TX                  UART_DEBOUNCER           
    UART_RX                  UART_TB                  
</code></pre>
<p>Viewing the entity hierarchy:</p>
<pre><code>$ legohdl graph uart -tb=uart_tb
INFO:   Identified top-level testbench: UART_TB
INFO:   Generating dependency tree...
--- DEPENDENCY TREE ---
\- comms.UART_TB 
   \- comms.UART 
      +- comms.UART_CLK_DIV 
      +- comms.UART_DEBOUNCER 
      +- comms.UART_RX 
      |  +- comms.UART_CLK_DIV 
      |  \- comms.UART_PARITY 
      \- comms.UART_TX 
         +- comms.UART_CLK_DIV 
         \- comms.UART_PARITY 


--- BLOCK ORDER ---
[1]^-   comms.uart(@v0.0.0)
</code></pre>
<p>Everything checks out; from here you can release this block as a new version using <code>release</code> and reuse any designs in a different project. Before releasing, you could also run <code>legohdl export -pack</code> to create a VHDL package file for all non-testbench design components.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="writing-plugins"><a class="header" href="#writing-plugins">Writing Plugins</a></h1>
<p>This page walks through a general procedure for how a plugin could be written within the scope of legoHDL.</p>
<p>A <a href="user_guide/./../glossary.html#plugin">plugin</a> is loosely defined as a command. However, to be beneficial to HDL designing, these commands will typically be a wrapper of a FPGA-tool, such as quartus, GHDL, verilator, etc.</p>
<p>Plugins are defined in the legohdl.cfg file.</p>
<pre><code class="language-ini">[plugin]
backend1 = echo &quot;hello world!&quot;
backend2 = python c:/users/chase/hdl/plugins/ghdl.py
</code></pre>
<p>Here, <code>ghdl.py</code> is a custom user-defined script that wraps the GHDL command-line tool.</p>
<p>The general series of steps a plugin should follow are:</p>
<ol>
<li>Collect data from the <a href="user_guide/./../glossary.html#blueprint">blueprint</a> file</li>
<li>Perform an action with the collected data</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Remember, you can extend your plugin to handle its own command-line arguments for an even more customized experiences/shortcuts.</p>
</blockquote>
<p>The blueprint file, if created, can be guaranteed to located from the block's base directory at <code>/build/blueprint</code> after a successful export.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="defining-a-template"><a class="header" href="#defining-a-template">Defining a Template</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sharing-settings-profiles"><a class="header" href="#sharing-settings-profiles">Sharing Settings: Profiles</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="managing-settings"><a class="header" href="#managing-settings">Managing Settings</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="topic-guide"><a class="header" href="#topic-guide">Topic Guide</a></h1>
<p>In this chapter, we go in-depth explaining legoHDL and its major concepts.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-does-legohdl-exist"><a class="header" href="#why-does-legohdl-exist">Why does legoHDL exist?</a></h1>
<p>Design reuse is of importance in any development environment. For hardware designing in HDL, this is even more important as more complex designs follow a hierarchal approach. The benefits to resuing designs are identified as saving time and resources while increasing productivity.</p>
<p>From a <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.610.9071&amp;rep=rep1&amp;type=pdf">VLSI Technology paper</a> about VHDL coding techniques, design reusability means that the design is:</p>
<ul>
<li>able to solve a general problem</li>
<li>well coded, documented, and commented</li>
<li>rigorously verified</li>
<li>technology independent</li>
<li>synthesis tool independent</li>
<li>simulator independent</li>
<li>application independent</li>
</ul>
<h2 id="legohdl-is-the-solution-to-the-design-resusability-challenge"><a class="header" href="#legohdl-is-the-solution-to-the-design-resusability-challenge">legoHDL is the solution to the design resusability challenge.</a></h2>
<br> 
<p>legoHDL:</p>
<ul>
<li>
<p>enables developers to write code once and have it maintained in its single location; enforcing the DRY principle.</p>
</li>
<li>
<p>decouples your HDL code from EDA tools, producing highly portable designs.</p>
</li>
<li>
<p>provides quick access to previous designs for instant integration. legoHDL can return the required code to instantiate any of your designs in VHDL or Verilog.</p>
</li>
<li>
<p>empowers developers through its management commands to effortlessly install HDL code for usability, reference specific versions of a design, and release new versions.</p>
</li>
<li>
<p>sets up an environment to take advantage of natural language constructs, such as VHDL libraries and packages, that target resuability.</p>
</li>
<li>
<p>places zero to little additional work on the developer to get existing code compatible with legoHDL</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="blocks"><a class="header" href="#blocks">Blocks</a></h1>
<p>This page explains how legoHDL packages projects into <a href="topic_guide/./../glossary.html#block">blocks</a> for reusability.</p>
<h2 id="whats-a-block"><a class="header" href="#whats-a-block">What's a block?</a></h2>
<p>A <em>block</em> is an HDL project managed by legoHDL. At its root folder exists a special file that must be exactly called &quot;<a href="topic_guide/./../glossary.html#blockcfg">Block.cfg</a>&quot;.</p>
<h2 id="where-do-blocks-live"><a class="header" href="#where-do-blocks-live">Where do blocks live?</a></h2>
<p>Blocks can exist at one or more <em>levels</em>: </p>
<ul>
<li>downloaded/developing (<code>D</code>)</li>
<li>installed (<code>I</code>)</li>
<li>available (<code>A</code>)</li>
</ul>
<h3 id="downloadeddeveloping"><a class="header" href="#downloadeddeveloping">Downloaded/Developing</a></h3>
<p>Blocks at the <em>downloaded/developing</em> level are projects that are currently in-development. They exist under the workspace's local path, which is defined in the <a href="topic_guide/./../glossary.html#legohdlcfg">legohdl.cfg</a> file. </p>
<p>These blocks are considered <em>un-stable</em> because there designs can freely change at any time.</p>
<h3 id="installed"><a class="header" href="#installed">Installed</a></h3>
<p>Blocks at the <em>installed</em> level are installed to the workspace's cache. Their location is abstracted away from the developer because these blocks are not to be edited. These blocks have their files stored as read-only to add a extra precautious layer to prevent accidental alterations.</p>
<p>These blocks are considered <em>stable</em> because they are &quot;snapshots&quot; of the project from the repository's version control history. A block can be installed under multiple versions.</p>
<p>Installed blocks are intended to be referenced as dependencies for blocks at the downloaded/developing level.</p>
<h3 id="available"><a class="header" href="#available">Available</a></h3>
<p>Blocks at the <em>available</em> level are found in one of the workspace's vendors as having the potential to be installed for use or downloaded for further development.</p>
<h2 id="whats-in-a-block"><a class="header" href="#whats-in-a-block">What's in a block?</a></h2>
<p>The files in a block can be grouped into 3 categories:</p>
<ul>
<li>HDL source files</li>
<li>Block.cfg file</li>
<li>supportive files</li>
</ul>
<h3 id="hdl-source-files"><a class="header" href="#hdl-source-files">HDL source files</a></h3>
<p>These are the project's relevant internal HDL code files written in either VHDL or verilog. External HDL code files are to be referenced and do not need to be copied into the project. External HDL files are known to be used from the Block.cfg file's <code>block.requires</code> key.</p>
<h3 id="blockcfg-file"><a class="header" href="#blockcfg-file">Block.cfg file</a></h3>
<p>A metadata file necessary for legoHDL to mark a folder as a <em>block</em>. Zero to minimal editing is to be done by the developer within this file.</p>
<h3 id="supportive-files"><a class="header" href="#supportive-files">Supportive files</a></h3>
<p>All other files relevant to the current project; whether it be tcl scripts, do files, constraint files, test vectors, etc. You can integrate any filetype into your workflow by creating labels and supporting that label in a plugin.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workspaces"><a class="header" href="#workspaces">Workspaces</a></h1>
<p>This page explains how legoHDL uses <a href="topic_guide/./../glossary.html#workspaces">workspaces</a> to group and manage your <a href="topic_guide/./../glossary.html#block">blocks</a>.</p>
<p>Workspaces allow your blocks to be found and managed for a given context. A user can have multiple workspaces for different contexts, such as for work and for hobbyist designs.</p>
<p>A user configures a workspace by defining a path where all downloaded blocks should exist and which vendors to link to.</p>
<p>Workspaces are defined as subsections in the <code>[workspace]</code> section of the <code>legohdl.cfg</code> file. Here is an example defining two different workspaces.</p>
<pre><code class="language-ini">[workspace]

    [.EEL4712c]
        path    = /Users/chase/develop/eel4712c/
        vendors = (uf-ece, vhd-vault)

    [.personal]
        path    = /Users/chase/develop/hdl/
        vendors = ()
</code></pre>
<ul>
<li>
<p>Workspace <code>EEL4712C</code> looks under <code>/Users/chase/develop/eel4712c/</code> for downloaded blocks, and links to vendors defined as <code>uf-ece</code> and <code>vhd-vault</code>.</p>
</li>
<li>
<p>Workspace <code>personal</code> looks under <code>/Users/chase/develop/hdl/</code> for downloaded blocks, and links to no vendors.</p>
</li>
</ul>
<h2 id="levels-on-levels"><a class="header" href="#levels-on-levels">Levels on Levels</a></h2>
<p>Workspaces manage blocks at 3 different levels: downloaded/in-development, installed, and available.</p>
<ol>
<li>
<p>Downloaded blocks are found within the workspace's user-defined path, sometimes called <em>local path</em>.</p>
</li>
<li>
<p>Installed blocks are internally managed by the workspace within a hidden folder currently found at <code>~/.legohdl/workspaces/&lt;workspace&gt;/cache/</code>.</p>
</li>
<li>
<p>Available blocks depend on what vendors are linked to the workspace, and can be installed or downloaded.</p>
</li>
</ol>
<h2 id="active-workspace"><a class="header" href="#active-workspace">Active Workspace</a></h2>
<p>Only 1 workspace can be active at a given time. This is defined in the <code>[general]</code> section of the <code>legohdl.cfg</code> file.</p>
<pre><code class="language-ini">[general]
    active-workspace = EEL4712C
</code></pre>
<blockquote>
<p><strong>NOTE:</strong> The value for <code>active-workspace</code> must be a case-insensitive match with a workspace section defined under <code>[workspace]</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="versioning"><a class="header" href="#versioning">Versioning</a></h1>
<p>This page explains how legoHDL handles different block versions.</p>
<p>Versions contain 3 distinct integer values under the <a href="topic_guide/./../glossary.html#semantic-versioning">semantic versioning</a> scheme.</p>
<p>Here is a quick example:</p>
<p><code>v1.0.3</code></p>
<p>The first digit is the major version (<code>1</code>).</p>
<p>The second digit is the minor version (<code>0</code>).</p>
<p>The third digit is the patch version (<code>3</code>).</p>
<blockquote>
<p><strong>Tip:</strong> Throughout this page, a <code>*</code> will indicate an arbitrary integer value in a version.</p>
</blockquote>
<p>legoHDL identifies a block's different versions by checking its git repository for all the commits tagged with <code>v*.*.*-legohdl</code>. This tag is automatically created during the <code>release</code> command.</p>
<p>There are two different types of versions: <a href="topic_guide/./../glossary.html#partial-version">partial versions</a> and <a href="topic_guide/./../glossary.html#full-version">full-versions</a>. These two version types are created to help the user determine what degree of restriction is necessary for the dependent design.</p>
<p>Whenever a version is installed (except for when being installed as <code>latest</code>), all references to designs internal to that block are renamed with <code>_v*_*_*</code>.</p>
<h2 id="full-versions"><a class="header" href="#full-versions">Full Versions</a></h2>
<p>A user can install full versions. These are the exact versions spelled out to 3 integer values (<code>v1.0.3</code>). When a full version is ins</p>
<h2 id="partial-versions"><a class="header" href="#partial-versions">Partial Versions</a></h2>
<p>Partial versions are automatically handled and updated by legoHDL as a user installs/uninstalls full versions.</p>
<h2 id="installation-example"><a class="header" href="#installation-example">Installation Example</a></h2>
<p>Scenario: </p>
<p>A block called <code>tutorials.gates</code> with version <code>v1.0.3</code> is to be installed so it can be used in creating new blocks. It has designs <code>and_gate</code> (VHDL entity), <code>nor_gate</code> (VHDL entity), and <code>gates</code> (VHDL package). No other installations exist for this block in this workspace.</p>
<p>Every reference to <code>and_gate</code>, <code>nor_gate</code> and <code>gates</code> for all HDL files within the <code>tutorials.gates</code> block will be renamed to <code>and_gate_v1_0_3</code>, <code>nor_gate_v1_0_3</code> and <code>gates_v1_0_3</code>, respectively.</p>
<p>Design transformations in the workspace's cache for <code>tutorials.gates(v1.0.3@v1.0.3)</code>:</p>
<ul>
<li><code>and_gate</code> -&gt; <code>and_gate_v1_0_3</code></li>
<li><code>nor_gate</code> -&gt; <code>nor_gate_v1_0_3</code></li>
<li><code>gates</code> -&gt; <code>gates_v1_0_3</code></li>
</ul>
<p>A partial version will be created under <code>v1</code>. To minimize the amount of space used, partials only keep their own HDL files and will reference all other supporting files in the block's full version.</p>
<p>A partial version <code>v1</code> will be installed.</p>
<p>Design transformations in the workspace's cache for <code>tutorials.gates(v1@v1.0.3)</code>:</p>
<ul>
<li><code>and_gate</code> -&gt; <code>and_gate_v1</code></li>
<li><code>nor_gate</code> -&gt; <code>nor_gate_v1</code></li>
<li><code>gates</code> -&gt; <code>gates_v1</code></li>
</ul>
<p>A partial version will also be created under <code>v1.0</code>.</p>
<p>A partial version <code>v1.0</code> will be installed.</p>
<p>Design transformations in the workspace's cache for <code>tutorials.gates(v1.0@v1.0.3)</code>:</p>
<ul>
<li><code>and_gate</code> -&gt; <code>and_gate_v1_0</code></li>
<li><code>nor_gate</code> -&gt; <code>nor_gate_v1_0</code></li>
<li><code>gates</code> -&gt; <code>gates_v1_0</code></li>
</ul>
<h2 id="why-partials"><a class="header" href="#why-partials">Why Partials?</a></h2>
<p>Partial versions exist to give a dependency <em>flexibility</em>. If a developer chooses to say use a partial <code>v1</code>, then they assume as this design improves while holding the major version constant (<code>1</code>), this block can use any changes/improvements that may occur over time.</p>
<h2 id="latest-versions"><a class="header" href="#latest-versions">Latest Versions</a></h2>
<p>You can also reference the <code>latest</code> version that's installed in the cache (and also giving a dependency maximum flexibility) by using no identifier modifier when instantiating a dependent design (no design name transformations occur in the <code>latest</code> version installation).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugins"><a class="header" href="#plugins">Plugins</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vendors"><a class="header" href="#vendors">Vendors</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intelligent-component-recognition-icr"><a class="header" href="#intelligent-component-recognition-icr">Intelligent Component Recognition (ICR)</a></h1>
<p>Both VHDL and Verilog have limited levels of scopes; although VHDL has libraries for design units, Verilog has no such concept.</p>
<p>This page describes how legoHDL handles <em>scope-overlapping</em>.</p>
<h3 id="what-is-scope-overlapping"><a class="header" href="#what-is-scope-overlapping">What is <em>scope-overlapping?</em></a></h3>
<p>For this document, we define <em>scope-overlapping</em> to be when two unique design units share the same scope and identifier.</p>
<h2 id="the-problem"><a class="header" href="#the-problem">The Problem</a></h2>
<p>Take two design units available for use in your legoHDL workspace.</p>
<ul>
<li>math.ALU:adder
<ul>
<li>an entity named <em>adder</em> found in the block <em>ALU</em> under the library <em>math</em></li>
</ul>
</li>
</ul>
<pre><code class="language-VHDL">-- Block: math.ALU
-- Entity: adder
entity adder is 
    generic ( 
        N : positive := 8 
    );
    port (
        c_in  : in  std_logic; 
        a     : in  std_logic_vector(N-1 downto 0);
        b     : in  std_logic_vector(N-1 downto 0);
        sum   : out std_logic_vector(N-1 downto 0);
        c_out : out std_logic
    );
end entity;
</code></pre>
<ul>
<li>math.counter:adder
<ul>
<li>an entity named <em>adder</em> found in the block <em>counter</em> under the library <em>math</em></li>
</ul>
</li>
</ul>
<pre><code class="language-VHDL">-- Block: math.counter
-- Entity: adder
entity adder is
    generic ( 
        N : positive := 32
    );
    port (
         c_in   : in  std_logic;
         input1 : in  std_logic_vector(N-1 downto 0);
         input2 : in  std_logic_vector(N-1 downto 0);
         sum    : out std_logic_vector(N-1 downto 0);
         c_out  : out std_logic
    );
end entity;
</code></pre>
<p><em>Scope-overlapping</em> occurs between these two entities because they share the same identifier, which consists of their entity name and library name.</p>
<p>If taking a VHDL coding approach, both entities could be instantiated with the following code.</p>
<pre><code class="language-VHDL">u_ADD : entity math.adder 
    generic map ( 
        ... 
    ) port map ( 
        ... 
    );
</code></pre>
<p>The problem lies in that <code>math.adder</code> may refer to either entity.</p>
<p>As the developer, your latest project involves using the adder from the <em>counter</em> block, yet how would legoHDL know this when the identifiers to instantiate the unit is the same?</p>
<h2 id="the-solution-icr"><a class="header" href="#the-solution-icr">The Solution: ICR</a></h2>
<p>ICR is a scoring algorithm ran when <em>scope-overlapping</em> occurs in the current design. It selects the unit with the highest computed score among its contenders. </p>
<p>We define a <em>contender</em> to be those unique entities that share the same space a in <em>scope-overlapping</em> problem. In the problem statement above, there are 2 contenders: the <em>adder</em> from <em>math.ALU</em> and the <em>adder</em> from <em>math.counter</em>.</p>
<p>We define an <em>interface</em> as the collective combination of an entity's defined generics and ports.</p>
<p>We define the <em>instance</em> as the code that could lead to multiple entity solutions based off its identifier (<code>math.adder</code> in the problem stated). </p>
<p>ICR gathers the interface data from all contenders as well as the interface data defined in the mapping of the instance. Based on this data and a set of known rules, it begins to calculate scores and rule out ineligible contenders.</p>
<p>Some rules are the following:</p>
<ul>
<li>+1 point is awarded to a contender for having a matching interface piece with the instance</li>
<li>An output port can be omitted/left unconnected and a contender can still remain elgibile.</li>
<li>If a contender's interface does not define a default value for a generic or an input port, the instance must have that generic or input port mapped. Failure to have this mapping will cause the contender to be ineligible.</li>
<li>If any generic or port from the instance is not found in the contender's interface, the contender must be ruled inelgibile.</li>
</ul>
<h2 id="solving-the-problem"><a class="header" href="#solving-the-problem">Solving the problem</a></h2>
<p>Using the <code>legohdl get</code> command, you as the developer would instantiate the <em>adder</em> from <em>counter</em> with the following output.</p>
<pre><code>$ legohdl get math.counter:adder -inst
--- ABOUT ---
------------------------------------------------------------------------------
 Block: math.counter
 Entity: adder
 Description:
  Instantiates N full adders to create a N-bit ripple carry adder
  architecture.
------------------------------------------------------------------------------

--- CODE ---
constant N : positive := 8;

signal w_cin    : std_logic;
signal w_input1 : std_logic_vector(N-1 downto 0);
signal w_input1 : std_logic_vector(N-1 downto 0);
signal w_sum    : std_logic_vector(N-1 downto 0);
signal w_cout   : std_logic;

uX : entity math.adder generic map(
        N =&gt; N)
    port map(
        c_in   =&gt; w_c_in,
        input1 =&gt; w_input1,
        input2 =&gt; w_input2,
        sum    =&gt; w_sum,
        c_out  =&gt; w_cout);
</code></pre>
<p>Within your latest entity's architecture, you have instantiated the <code>math.adder</code> entity.</p>
<pre><code class="language-VHDL">architecture ...
begin
    ...

    --please use the adder from our counter block here!
    u_ADD : entity math.adder generic map(
            N =&gt; N)
        port map(
            c_in   =&gt; w_c_in,
            input1 =&gt; w_input1,
            input2 =&gt; w_input2,
            sum    =&gt; w_sum,
            c_out  =&gt; w_cout);

    ...
end architecture;
</code></pre>
<p>To build the latest design, we must export the <a href="topic_guide/./../glossary.html#blueprint">blueprint</a> file for our <a href="topic_guide/./../glossary.html#plugin">plugin</a> to use.</p>
<p>During export, ICR is ran to determine which contender the given instance should belong to in order to complete the design hierarchy tree.</p>
<p>Data collected for contenders labeled as A and B:</p>
<table><thead><tr><th>instance</th><th>math.counter:adder (A)</th><th>math.ALU:counter (B)</th></tr></thead><tbody>
<tr><td>N (G)</td><td>N (G*)</td><td>N (G*)</td></tr>
<tr><td>c_in</td><td>c_in (IN)</td><td>c_in (IN)</td></tr>
<tr><td>input1</td><td>input1 (IN)</td><td>a (IN)</td></tr>
<tr><td>input2</td><td>input2 (IN)</td><td>b (IN)</td></tr>
<tr><td>sum</td><td>sum (OUT)</td><td>sum (OUT)</td></tr>
<tr><td>c_out</td><td>c_out (OUT)</td><td>c_out (OUT)</td></tr>
</tbody></table>
<blockquote>
<p><strong>Note:</strong> A '(G)' represents a generic defined, while '(IN)' and '(OUT)' represents input and output ports, respectively. Notice for the instance we are unable to determine the port directions from code. A '*' indicates it has a default value (and thus may be omitted from the instance code).</p>
</blockquote>
<p>Since both A and B have the generic N, we cannot determine which one the instance belongs to yet. We move on to the ports.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>1</td><td>1</td></tr>
</tbody></table>
<p>Both A and B have an input port &quot;c_in&quot;, and the instance must define this connection for either contender because there's no default value. However, this port gives no insight as the name is identical in both contenders.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>2</td><td>2</td></tr>
</tbody></table>
<p>Contender A has an input port &quot;input1&quot;, which matches with a name in the instance's interface. A's score gets +1. Contender B has no such port, and thus it is ineligible. At this point ICR knows which entity the instance belongs to. We will carry the remaining checks out for completeness.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>3</td><td>0</td></tr>
</tbody></table>
<p>Contender A has an input port &quot;input2&quot;, which matches a name in the instance's interface and thus gets +1. Contender B no longer can check against the instance interface due to being previously ineligible/disqualified.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>4</td><td>0</td></tr>
</tbody></table>
<p>Contender A's port &quot;sum&quot; matches with a port in the instance.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>5</td><td>0</td></tr>
</tbody></table>
<p>Contender A's port &quot;c_out&quot; matches with a port in the instance.</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>6</td><td>0</td></tr>
</tbody></table>
<p>There are no more interface pieces in the instance to check. Scoring is done. Scores are transformed into a percentage.</p>
<p><em>contender's %-score</em> = (<em>contender's score</em>) / (<em>total instance interface elements</em>)</p>
<table><thead><tr><th>contender A</th><th>contender B</th></tr></thead><tbody>
<tr><td>100%</td><td>0%</td></tr>
</tbody></table>
<p>ICR selected contender A, which was the <em>math.counter:adder</em> entity. This was what we wanted!</p>
<h2 id="pitfalls"><a class="header" href="#pitfalls">Pitfalls</a></h2>
<p>There are 2 methods to instantiating a unit in VHDL and Verilog: positional association and name association. Name association is generally recommended and is the format legoHDL outputs compatible code. However, positional association is still a synthesizable construct and based on the previous problem could hinder ICR.</p>
<p>When positional association is used, legoHDL loses data on what the interface names are to cross-check with the contenders. The only data it can collect is on the number of connections in the instance's interface. See <a href="topic_guide/./intell_comp_rec.html#more-icr-examples">more examples</a> to see how ICR performs when encountering positional association.</p>
<p>I don’t think there is a single synthesis tool that will support a design using more than one unique entity from the same <em>scope-overlapping</em> space, even though legoHDL can distinguish when each one is used in context from ICR. For this, a design may be limited to only using one of these unique entities for every <em>scope-overlapping</em> problem, yet all the entities are allowed to coexist through legoHDL.</p>
<p>This means any time the same <em>scope-overlapping</em> problem appears in a design, it must select the same entity every time in order to be synthesizable.</p>
<p>If a design would not select the same entity every time when running ICR, an extra layer of scope could be added to an entity’s name by prepending the block name to the entity name. For example, making <code>entity ALU_adder</code> and <code>entity counter_adder</code>. This would resolve the <em>scope-overlapping</em> problem and avoid running ICR entirely.</p>
<h2 id="more-icr-examples"><a class="header" href="#more-icr-examples">More ICR examples</a></h2>
<h3 id="positional-association"><a class="header" href="#positional-association">positional association</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference"><a class="header" href="#reference">Reference</a></h1>
<p>In this chapter, relevant technical information is supplied for thorough review of certain concepts.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg-files"><a class="header" href="#cfg-files">.cfg Files</a></h1>
<p>This page describes technical information about the structure and syntax of configuration files (.cfg files) under legoHDL.</p>
<p>legoHDL stores and retrieves data from files with a <code>.cfg</code> extension. This file structure has been pre-existing and loosely defined <a href="https://en.wikipedia.org/wiki/INI_file">here</a> on wikipedia. Some differences/unique features will be highlighted on this page relating to how legoHDL interprets these file types.</p>
<h2 id="syntax"><a class="header" href="#syntax">Syntax</a></h2>
<ul>
<li>Keys and sections are case-insensitive. </li>
<li>leading and trailing whitespace is trimmed from keys and regular values (indentation is ignored).</li>
</ul>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>There are 4 components to legoHDL cfg files: </p>
<ul>
<li>comments</li>
<li>sections</li>
<li>keys</li>
<li>values</li>
</ul>
<h3 id="comments"><a class="header" href="#comments">Comments</a></h3>
<p>Single-line comments are supported and must begin with a <code>;</code>.</p>
<pre><code class="language-INI">; a comment!
</code></pre>
<h3 id="sections-1"><a class="header" href="#sections-1">Sections</a></h3>
<p>Sections are enclosed with <code>[</code> <code>]</code>. Sections must be defined on their own line. Sections can be nested up to 2 levels; begin a section with <code>[.</code> instead of <code>[</code> to signify this section is nested within the immediately previously declared section.</p>
<pre><code class="language-INI">[workspace]
...

[.lab] ; flattens out to section &quot;workspace.lab&quot;
...
</code></pre>
<h3 id="keys"><a class="header" href="#keys">Keys</a></h3>
<p>Keys must be the first thing on a new line and followed by a <code>=</code>. Keys must be a single word wihout spaces. Keys are used to define values.</p>
<pre><code class="language-INI">secret-key = 30
</code></pre>
<h3 id="values"><a class="header" href="#values">Values</a></h3>
<p>Values are WYSIWYG. All values are interpreted as strings. When not encapsulating a value in double quotes (<code>&quot;</code> <code>&quot;</code>), a newline in the value is converted into a single space during file reading. You can also you double quotes to make sure <code>;</code> or any other special cfg characters are kept in the value.</p>
<p>Values can also be lists under the following rules:</p>
<ul>
<li>use <code>(</code> to begin the list and <code>)</code> to end the list</li>
<li>items are separated by <code>,</code></li>
</ul>
<pre><code class="language-INI">; normal value
norm-key = What you see is what you get!
; this key will keep the ';'
save-key = &quot;DO NOT TOUCH; THIS IS IMPORTANT&quot;
; this key lists items
list-key = (item1, item2, item3)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commands"><a class="header" href="#commands">Commands</a></h1>
<!-- Alternate quote: “Now I am the ruler of all the ocean! The waves obey my every whim!” -Ursula, The Little Mermaid -->
<p>In this chapter, reference is provided for how to interface with legoHDL. The commands are loosely divided into two main categories: development and management.</p>
<ul>
<li><a href="commands/./development.html">Development</a></li>
<li><a href="commands/./management.html">Management</a></li>
</ul>
<h3 id="tip-how-to-read-commands"><a class="header" href="#tip-how-to-read-commands"><em>Tip</em>: How to Read Commands</a></h3>
<p>The basic usage structure for every command is:</p>
<p><code>legohdl &lt;command&gt; [item] [flags]</code></p>
<p>Everything written after the call to <code>legohdl</code> is considered an argument. All commands and flags are evaluated as case-insensitive.</p>
<p>A flag must start with a <code>-</code>. Flags are used to control how the command functions.</p>
<p><code>-comp</code></p>
<p>Any time <code>&lt; &gt;</code> are used, the string within the <code>&lt; &gt;</code> is used as a hint as to what the value should be to replace the entire <code>&lt; &gt;</code>.</p>
<p><code>&lt;block&gt;</code></p>
<p>Any time <code>[ ]</code> are used, that argument is optional.</p>
<p><code>[-open]</code></p>
<p>Any time <code>( )</code> are used, the arguments grouped within only function together.</p>
<p><code>(-url [-fork])</code></p>
<p>Any time <code>|</code> is used, only one of the arguments in question can be chosen per call (this is an OR operator).</p>
<p><code>-profile | -template</code></p>
<p>Sometimes a flag can store a value, in that case a <code>=</code> follows the name of the flag along with the desired value.</p>
<p><code>-comp=vhdl</code></p>
<p>Quotes can be used to make sure a flag or value is correctly captured on the command-line.</p>
<p><code>-comp=&quot;vhdl&quot;</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-commands"><a class="header" href="#development-commands">Development Commands</a></h1>
<ul>
<li><a href="commands/./development/new.html">new</a></li>
<li><a href="commands/./development/init.html">init</a></li>
<li><a href="commands/./development/open.html">open</a></li>
<li><a href="commands/./development/get.html">get</a></li>
<li><a href="commands/./development/graph.html">graph</a></li>
<li><a href="commands/./development/export.html">export</a></li>
<li><a href="commands/./development/build.html">build</a></li>
<li><a href="commands/./development/release.html">release</a></li>
<li><a href="commands/./development/del.html">del</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="new"><a class="header" href="#new">new</a></h1>
<h2 id="name"><a class="header" href="#name">Name</a></h2>
<pre><code>    new - Create a new legoHDL block (project)
</code></pre>
<h2 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h2>
<pre><code>    legohdl new &lt;block&gt; [-open] [-remote=&lt;url&gt; [-fork]] [-path=&lt;path&gt;] 
            [-no-template]
    legohdl new &lt;file&gt; -file[=&lt;template-file&gt;] [-force] [-no-open]
</code></pre>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<pre><code>    Create a new HDL project recognized by legoHDL as a &quot;block&quot;. The block
    will be created under a new folder at the workspace's local path such
    as &lt;workspace-path&gt;/&lt;block-library&gt;/&lt;block-name&gt;. A git repository will 
    be automatically created, and a bare git remote repository URL can be 
    passed for automatic configuration. If a non-bare remote repository is 
    passed, the block will be created and can be optionally forked using 
    -fork.

    When copying in the template, files hidden within a hidden directory 
    will not be copied. The files a designer would place inside a hidden 
    directory may be extra files that could be initialized later on a 
    per-block basis.

    If trying to create a new file and that path already exists, the
    existing file will not be overwritten unless -force is used. Creating 
    new files by default will auto-open in the configured text editor.
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<pre><code>    &lt;block&gt;
        The project's title. A library and a name must be included, and 
        optionally a vendor can be prepended to the title.

    -open
        Upon creating the block, open it in the configured text-editor.

    -remote=&lt;url&gt;
        A bare remote git repository to be attached to the created block's
        git repository.

    -fork
        Separate the remote repository from the local repository. Do not
        push changes to the original remote.

    -path=&lt;path&gt;
        Overrides the default download path and instead creates block at
        &lt;path&gt; relative to the workspace's local path.

    -no-template
        Do not copy in the configured template folder. The created block
        folder will only contain the necessary Block.cfg file.

    &lt;file&gt;
        The filepath to intialize a new file.

    -file[=&lt;template-file&gt;]
        Initialize a new file within the current block. Specifying 
        &lt;template-file&gt; will copy the template file to the desired directory
        with placeholders correctly replaced. Omitting &lt;template-file&gt; will 
        create a blank file.

    -force
        Overwrite the filepath even if it already exists when initializing a
        file.

    -no-open
        Do not open the newly created file in the configured editor.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="init"><a class="header" href="#init">init</a></h1>
<h2 id="name-1"><a class="header" href="#name-1">Name</a></h2>
<pre><code>    init - Initialize a legoHDL block from existing code and block metadata.
</code></pre>
<h2 id="synopsis-1"><a class="header" href="#synopsis-1">Synopsis</a></h2>
<pre><code>    legohdl init &lt;block&gt; [-remote=&lt;url&gt; [-fork]] [-vendor=&lt;mkrt&gt;] 
            [-summary=&lt;summary&gt;]
</code></pre>
<h2 id="description-1"><a class="header" href="#description-1">Description</a></h2>
<pre><code>    When the current directory or provided remote repository already is a 
    valid legoHDL block, the &lt;block&gt; is ignored.

    When a remote repository is given and it already is a valid block (i.e. 
    the root directory contains a Block.cfg file), the &lt;block&gt; will be 
    ignored and the actual title will be used. This becomes an equivalent to
    using the 'download' command.
</code></pre>
<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
<pre><code>    &lt;block&gt;
            :ref:

    -remote=&lt;url&gt;
            :ref:

    -fork
            Do not link to the remote repository and try to push any changes
            to the provided &lt;url&gt;.

    -vendor=&lt;vndr&gt;
            Set the block's vendor. &lt;vendor&gt; must be a valid vendor 
            available in the current workspace.

    -summary=&lt;summary&gt;
            Fill in the summary for the block's metadata. &lt;summary&gt; is a 
            string that describes the current block.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="open"><a class="header" href="#open">open</a></h1>
<h2 id="name-2"><a class="header" href="#name-2">Name</a></h2>
<pre><code>    open - Use a text-editor to open a variety of legoHDL-related things
</code></pre>
<h2 id="synopsis-2"><a class="header" href="#synopsis-2">Synopsis</a></h2>
<pre><code>    legohdl open &lt;block&gt;
    legohdl open [&lt;plugin-alias&gt;] -plugin
    legohdl open &lt;profile-name&gt; -profile
    legohdl open (-template | -settings[=&lt;mode&gt;])
    legohdl open &lt;vendor-name&gt; -vendor
</code></pre>
<h2 id="description-2"><a class="header" href="#description-2">Description</a></h2>
<pre><code>    :todo:
</code></pre>
<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
<pre><code>    &lt;block&gt;
            :ref:

    &lt;plugin-alias&gt;
        The alias for the saved custom plugin within legoHDL. It is a 
        user-defined key in settings under &quot;plugins&quot;. If the alias's value 
        is a command that references a real existing file, that file will be
        opened.

    -plugin
        The flag to indicate a plugin is trying to be opened. If no 
        &lt;plugin-alias&gt; value is given with this flag, the built-in plugins 
        folder will be opened.

    &lt;profile-name&gt;
        The profile configuration name stored within legoHDL settings. When 
        valid, that profile directory will open.

    -profile
        The flag to indicate a profile is trying to be opened.

    -template
        The flag to indicate the template is trying to be opened. If the
        configured template value in settings is blank, the built-in 
        template folder will be opened.

    -settings[=&lt;mode&gt;]
        The flag to indicate the settings are trying to be opened.

        &lt;mode&gt; determines how to open the settings. Accepted values are gui 
        and file. When omitted, the default is to open the settings in gui 
        mode.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get"><a class="header" href="#get">get</a></h1>
<h2 id="name-3"><a class="header" href="#name-3">Name</a></h2>
<pre><code>    get - Print the compatible code for the ports list of a specified unit
</code></pre>
<h2 id="synopsis-3"><a class="header" href="#synopsis-3">Synopsis</a></h2>
<pre><code>    legohdl get [&lt;block&gt;:]&lt;unit&gt; [-comp[=&lt;lang&gt;]] [-inst[=&lt;lang&gt;]] [-arch]
            [-edges] [-D | -I] [-no-about]
</code></pre>
<h2 id="description-3"><a class="header" href="#description-3">Description</a></h2>
<pre><code>    When trying to access current block-level entities, the &lt;block&gt;
    can be omitted (a form of shortcutting). To reference a unit,
    &lt;vendor&gt;.&lt;library&gt;.&lt;project&gt;:&lt;unit&gt;.

    By default, it will print the 'about' section and the component 
    declaration for VHDL entities or the module interface for Verilog 
    modules. This is the comment header block found at the beginning of this
    unit's file (if exists). Helpful to read more information about an unit 
    and how it behaves (if a developer wrote one).

    If -comp is present when -inst is also present and the language 
    outputted is VHDL, the returned VHDL instantiation code will be a 
    component instantiation. If -comp is omitted in this scenario, 
    the returned VHDL instantiation code will be a direct entity 
    instantiation.

    The &lt;lang&gt; assignment from -inst has higher precedence of the &lt;lang&gt;
    assignemnt from -comp when both are present.
</code></pre>
<h2 id="options-3"><a class="header" href="#options-3">Options</a></h2>
<pre><code>    &lt;block&gt;
            The block's title. If omitted, the &lt;entity&gt; is searched for only
            within the current block's scope.

    &lt;unit&gt;
            The design unit name. For VHDL this is a package or entity, and
            for Verilog this is a module.

    -comp[=&lt;lang&gt;]
            Print the component declaration. For Verilog language, the 
            module interface is printed instead of a component declaration.

            &lt;lang&gt; specifies what HDL language to use to print the formatted
            code. Accepted values are vlog and vhdl. Omitting &lt;lang&gt; prints 
            the code in the entity's original language.

    -inst[=&lt;lang&gt;]
            Print the direct entity instantiation (VHDL-93 feature) or 
            component instantiation. This includes relevant constants for 
            each generic, relevant signals for each port, and the 
            instantiation code. 

            &lt;lang&gt; specifies what HDL language to use to print the formatted
            code. Accepted values are vlog and vhdl. Omitting &lt;lang&gt; prints 
            the code in the unit's original language.

    -arch
            List the available architectures. If the unit is a Verilog
            module, only &quot;rtl&quot; will be listed.

    -edges
            Print the units are required by this unit and print the units 
            that integrate this unit into their design. Gets the edges from
            the hierarchical graph.

    -D
            Search the downloaded blocks to get this unit, regardless of
            the status of 'multi-develop'.

    -I
            Search the installed blocks to get this unit, regardless of 
            the status of 'multi-develop'.

    -no-about
            Do not print the 'about' section for the given design unit.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="graph"><a class="header" href="#graph">graph</a></h1>
<h2 id="name-4"><a class="header" href="#name-4">Name</a></h2>
<pre><code>    graph - Visualize the dependency tree for the design
</code></pre>
<h2 id="synopsis-4"><a class="header" href="#synopsis-4">Synopsis</a></h2>
<pre><code>    legohdl graph [&lt;entity&gt;] [-tb=&lt;tb&gt; | -ignore-tb] [-expand] [-disp-full]
</code></pre>
<h2 id="description-4"><a class="header" href="#description-4">Description</a></h2>
<pre><code>    Create and view the dependency tree for the current block design. This 
    command is provided as a guide to quickly help the designer see how the
    design unfolds.

    When no &lt;entity&gt; is given, the top-level will be auto-detected and the
    user will be prompted to select one if multiple exist. When -ignore-tb 
    and -tb=&lt;tb&gt; are absent, the testbench for the top-level entity will be 
    auto-detected, if one exists. The user will be prompted to select one if
    multiple exist.

    By default, the graph is in compression mode and will create reference points
    when a duplicate branch occurs. Raising -expand will explicitly display all
    branches without reference points.
</code></pre>
<h2 id="options-4"><a class="header" href="#options-4">Options</a></h2>
<pre><code>    &lt;entity&gt;
            The design unit to request as top-level.

    -tb=&lt;tb&gt;
            The relevant testbench file to explicitly include in the 
            dependency tree. Has higher precedence of -ignore-tb.

    -ignore-tb
            Do not include any testbench unit in the dependency tree.

    -expand
            Decompress reference points into their duplicate branchs.

    -disp-full
            Display full block identifiers for each unit.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="export"><a class="header" href="#export">export</a></h1>
<h2 id="name-5"><a class="header" href="#name-5">Name</a></h2>
<pre><code>    export - Generate a blueprint file or VHDL package file
</code></pre>
<h2 id="synopsis-5"><a class="header" href="#synopsis-5">Synopsis</a></h2>
<pre><code>    legohdl export [&lt;unit&gt;] [-tb=&lt;tb&gt; | -ignore-tb] [-quiet] [-no-clean]
            [-all]
    legohdl export -pack[=&lt;file&gt;] [-omit=&lt;units&gt;] [-inc=&lt;units&gt;]
</code></pre>
<h2 id="description-5"><a class="header" href="#description-5">Description</a></h2>
<pre><code>    -ignore-tb has higher precedence than when a &lt;tb&gt; is stated.

    For generating a VHDL package file, passing -inc will ignore -omit if it
    is passed to the command-line as well. -inc has higher precedence than 
    -omit.

    The default VHDL package file name is the block's project name appended
    with '_pkg', and its path will be located at the same directory of the
    Block.cfg file. Override its location and name by entering a &lt;file&gt;.
    Testbench units (design units with no port interfaces) are always
    omitted.
</code></pre>
<h2 id="options-5"><a class="header" href="#options-5">Options</a></h2>
<pre><code>    &lt;unit&gt;
            The design unit to request as top-level. All relevant HDL files
            will stem from this unit's file.

    -tb=&lt;tb&gt;
            Explicitly request what top-level simulation file to include in
            the blueprint.

    -ignore-tb
            Do not include a testbench file in the blueprint.

    -quiet
            Do not print intermediate information while the blueprint file 
            is being created.

    -no-clean
            Do not delete the build/ directory when writing the blueprint.

    -all
            Add all block-level source files and their dependencies.

    -pack[=&lt;file&gt;]
            Create a VHDL package file with component declarations for the 
            current block. Optionally add a relative path and file name for
            &lt;file&gt;.

    -omit=&lt;units&gt;
            Specific list of units to exclude when generating the package 
            file. &lt;units&gt; is a list separated by ','.

    -inc=&lt;units&gt;
            When given, it will only allow these explicit units to be
            included in the VHDL package file. &lt;units&gt; is a list separated
            by ','.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="build"><a class="header" href="#build">build</a></h1>
<h2 id="name-6"><a class="header" href="#name-6">Name</a></h2>
<pre><code>    build - Execute a custom backend plugin/tool command
</code></pre>
<h2 id="synopsis-6"><a class="header" href="#synopsis-6">Synopsis</a></h2>
<pre><code>    legohdl [build] +&lt;plugin-alias&gt; [&lt;plugin-args...&gt;]
</code></pre>
<h2 id="description-6"><a class="header" href="#description-6">Description</a></h2>
<pre><code>    :todo:
</code></pre>
<h2 id="options-6"><a class="header" href="#options-6">Options</a></h2>
<pre><code>    &lt;plugin-alias&gt;
            The alias for the saved custom plugin within legoHDL. It will 
            execute the command as if it was called through the terminal.

    &lt;plugin-args...&gt;
            Any additonal arguments to pass directly to the called command.
            All arguments after &lt;plugin-alias&gt; will be passed to the 
            executed command.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="release"><a class="header" href="#release">release</a></h1>
<h2 id="name-7"><a class="header" href="#name-7">Name</a></h2>
<pre><code>    release - Set a newer version for the current block
</code></pre>
<h2 id="synopsis-7"><a class="header" href="#synopsis-7">Synopsis</a></h2>
<pre><code>    legohdl release &lt;version&gt; [-msg=&lt;msg&gt;] [-strict] [-dry-run] 
            [-no-changelog] [-no-install]
</code></pre>
<h2 id="description-7"><a class="header" href="#description-7">Description</a></h2>
<pre><code>    :todo:
</code></pre>
<h2 id="options-7"><a class="header" href="#options-7">Options</a></h2>
<pre><code>    &lt;version&gt;
            The next version for the current block. The value must be either
            major, minor, patch, or an explicit version.

    -msg=&lt;msg&gt;
            The message to commit with. The value for &lt;msg&gt; is a string and
            if the string includes spaces then quotes must encapsulate 
            &lt;msg&gt;. The default message is: &quot;Releases legohdl version
            &lt;version&gt;&quot;.

    -strict
            Only adds and commits the modified changelog (if exists) and the
            Block.cfg file. All other uncommitted changes will not be in
            the following release.

    -dry-run
            Perform the complete release process as-if the block was to be
            released, but leaves the block unmodified and unreleased.

    -no-install
            Will not automatically install the latest version to the cache.

    -no-changelog
            Skip auto-opening a changelog file (if exists) during the
            release process.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="del"><a class="header" href="#del">del</a></h1>
<h2 id="name-8"><a class="header" href="#name-8">Name</a></h2>
<pre><code>    del - Remove a variety of legoHDL-related things
</code></pre>
<h2 id="synopsis-8"><a class="header" href="#synopsis-8">Synopsis</a></h2>
<pre><code>    legohdl del &lt;block&gt; [-uninstall]
</code></pre>
<h2 id="description-8"><a class="header" href="#description-8">Description</a></h2>
<pre><code>    :todo:
</code></pre>
<h2 id="options-8"><a class="header" href="#options-8">Options</a></h2>
<pre><code>    :todo:
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="management-commands"><a class="header" href="#management-commands">Management Commands</a></h1>
<ul>
<li><a href="commands/./management/list.html">list</a></li>
<li><a href="commands/./management/refresh.html">refresh</a></li>
<li><a href="commands/./management/install.html">install</a></li>
<li><a href="commands/./management/uninstall.html">uninstall</a></li>
<li><a href="commands/./management/download.html">download</a></li>
<li><a href="commands/./management/update.html">update</a></li>
<li><a href="commands/./management/info.html">info</a></li>
<li><a href="commands/./management/config.html">config</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list"><a class="header" href="#list">list</a></h1>
<h2 id="name-9"><a class="header" href="#name-9">Name</a></h2>
<pre><code>    list - View a variety of legoHDL-related things
</code></pre>
<h2 id="synopsis-9"><a class="header" href="#synopsis-9">Synopsis</a></h2>
<pre><code>    legohdl list [&lt;search&gt;] [[-unit [-all] [-ignore-tb]] | [-D] [-I] [-A]] [-alpha]
    legohdl list [-plugin | -label | -vendor | -workspace | -profile | 
            -template]
</code></pre>
<h2 id="description-9"><a class="header" href="#description-9">Description</a></h2>
<pre><code>    Retrieves a requested data from the catalog.

    When passing a value for &lt;search&gt;, each subsection of a block's
    identifier can be omitted. With each additionally provided subsection,
    the values shift left to the next subsection. See EXAMPLES for more 
    information.
</code></pre>
<h2 id="options-9"><a class="header" href="#options-9">Options</a></h2>
<pre><code>    &lt;search&gt;
            Optional field to narrow the given list by. 

    -unit
            Instead of listing blocks, list the units.

    -alpha
            Organize the list in alphabetical order.

    -I
            Filter only installed blocks or units.

    -D
            Filter only downloaded blocks or units.    

    -A
            Filter only available blocks or units from vendors.

    -all
            Display all units, regardless if they are usable or not
            according to what 'multi-develop' is set to.

    -plugin
            Return the list of plugins. Fields are alias and command.

    -label
            Return the list of labels. Fields are label, extensions,
            and global.

    -vendor
            Return the list of vendors. Fields are vendor, remote 
            repository, block count, and active.

    -workspace
            Return the list of workspaces. Fields are workspace, active, 
            path, and vendors.

    -profile
            Return the list of profiles. Fields are profile, last import, 
            legohdl.cfg, template/, and plugins/.

    -template
            Return the list of all availble files from the current template.
            These files can be referenced exactly as listed when 
            initializing a new file with the 'init' command.
</code></pre>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><code>    legohdl list lab0
            Since a vendor is omitted and a library is omitted, all blocks 
            starting with &quot;lab0&quot; in their name are returned.

    legohdl list eel4712c.  
            Since a vendor is omitted and a name is omitted, all blocks 
            starting with &quot;eel4712c&quot; in their library are returned.

    legohdl list uf-ece..
            Since a library is omitted and a name is omitted, all blocks 
            starting with &quot;uf-ece&quot; in their vendor are returned.

    legohdl list ..:mux_2x1 -unit
            All V.L.N subsections are blank, so the entire catalog is 
            searched to see if an unit exists with the name &quot;mux_2x1&quot;.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="refresh"><a class="header" href="#refresh">refresh</a></h1>
<h2 id="name-10"><a class="header" href="#name-10">Name</a></h2>
<pre><code>    refresh - Synchronize local vendor repositories with their remotes
</code></pre>
<h2 id="synopsis-10"><a class="header" href="#synopsis-10">Synopsis</a></h2>
<pre><code>    legohdl refresh [&lt;vendor&gt; | -all]
    legohdl refresh [&lt;profile&gt; | -all] -profile
</code></pre>
<h2 id="description-10"><a class="header" href="#description-10">Description</a></h2>
<pre><code>    Checks for updates from vendor remote repositories and pulls them down
    to stay up-to-date.

    If no arguments are given, by default all vendors available to the
    current workspace will try to refresh. If -all is given, every possible
    vendor, even outside workspace availability, will sync with its remote 
    (if exists).
</code></pre>
<h2 id="options-10"><a class="header" href="#options-10">Options</a></h2>
<pre><code>    &lt;vendor&gt;
            The name of the known vendor to synchronize.

    -all
            Synchronize all profiles or vendors across all workspaces.

    &lt;profile&gt;
            The name of the profile to syncrhonize.

    -profile
            Flag to indicate that a profile is trying to be refreshed.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="install"><a class="header" href="#install">install</a></h1>
<h2 id="name-11"><a class="header" href="#name-11">Name</a></h2>
<pre><code>    install - Bring a block to the workspace's cache for usage
</code></pre>
<h2 id="synopsis-11"><a class="header" href="#synopsis-11">Synopsis</a></h2>
<pre><code>    legohdl install &lt;block&gt; [-&lt;version&gt; | -requirements]
</code></pre>
<h2 id="description-11"><a class="header" href="#description-11">Description</a></h2>
<h2 id="options-11"><a class="header" href="#options-11">Options</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uninstall"><a class="header" href="#uninstall">uninstall</a></h1>
<h2 id="name-12"><a class="header" href="#name-12">Name</a></h2>
<pre><code>    uninstall - Remove a block from the workspace's cache
</code></pre>
<h2 id="synopsis-12"><a class="header" href="#synopsis-12">Synopsis</a></h2>
<pre><code>    legohdl uninstall &lt;block&gt; [-&lt;version&gt;]
</code></pre>
<h2 id="description-12"><a class="header" href="#description-12">Description</a></h2>
<pre><code>    Removes installed block versions from the workspace cache. 

    If -&lt;version&gt; is omitted, then ALL versions for the specified block will
    be removed. Specifying -&lt;version&gt; will only remove it and no others, 
    given it is installed. 

    Can also remove groups of versions by passing a partial version to
    -&lt;version&gt;.
</code></pre>
<h2 id="options-12"><a class="header" href="#options-12">Options</a></h2>
<pre><code>    &lt;block&gt;
            :ref:

    -&lt;version&gt;
            Specific version to uninstall.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="download"><a class="header" href="#download">download</a></h1>
<h2 id="name-13"><a class="header" href="#name-13">Name</a></h2>
<pre><code>    download - Bring a block to the local workspace for development
</code></pre>
<h2 id="synopsis-13"><a class="header" href="#synopsis-13">Synopsis</a></h2>
<pre><code>    legohdl download (&lt;block&gt; | (&lt;url&gt; [-fork])) [-open] [-path=&lt;path&gt;]
</code></pre>
<h2 id="description-13"><a class="header" href="#description-13">Description</a></h2>
<h2 id="options-13"><a class="header" href="#options-13">Options</a></h2>
<pre><code>    -path=&lt;path&gt;
        Overrides the default download path and instead creates block at
        &lt;path&gt; relative to the workspace's local path.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="update"><a class="header" href="#update">update</a></h1>
<h2 id="name-14"><a class="header" href="#name-14">Name</a></h2>
<pre><code>    update - Get the latest installed block or profile
</code></pre>
<h2 id="synopsis-14"><a class="header" href="#synopsis-14">Synopsis</a></h2>
<pre><code>    legohdl update &lt;block&gt;
    legohdl update &lt;profile-name&gt; -profile
</code></pre>
<h2 id="description-14"><a class="header" href="#description-14">Description</a></h2>
<pre><code>    &lt;block&gt;
            :ref:

    &lt;profile-name&gt;
            :todo:

    -profile
            :todo:
</code></pre>
<h2 id="options-14"><a class="header" href="#options-14">Options</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="info"><a class="header" href="#info">info</a></h1>
<h2 id="name-15"><a class="header" href="#name-15">Name</a></h2>
<pre><code>    info - Read detailed information about a block
</code></pre>
<h2 id="synopsis-15"><a class="header" href="#synopsis-15">Synopsis</a></h2>
<pre><code>    legohdl info &lt;block&gt; [-D | -I | -&lt;version&gt; | -A] [-more] 
            [-vers[=&lt;range&gt;]] [-changelog]
    legohdl info &lt;profile&gt; -profile
    legohdl info &lt;vendor&gt; -vendor
</code></pre>
<h2 id="description-15"><a class="header" href="#description-15">Description</a></h2>
<pre><code>    By default, will print the metadata about the given block. 

    If -vers is applied, it will list all the available versions for 
    installation, and hightlight which versions are installed under the 
    workspace cache.

    If -changelog is applied, only the changelog file will be printed to
    the console (if exists).
</code></pre>
<h2 id="options-15"><a class="header" href="#options-15">Options</a></h2>
<pre><code>    &lt;block&gt;
            :ref:

    -D
            Return data from block at the download level, regardless of
            the status of 'multi-develop'.

    -I
            Return data from latest block at the installation level,
            regardless of the status of 'multi-develop'.

    -&lt;version&gt;
            Return data from the block with specified version/partial
            version.

    -A
            Return data from the block at the available level.

    -more
            Get relevant stats about the block such as the path, project 
            size, design units, and block integrations.

    -vers[=&lt;range&gt;]
            List all available versions for the specified block. &lt;range&gt;
            will constrain the list of versions. Accepted values for &lt;range&gt;
            are I or a version indexing.

    -changelog
            Print the associated changelog with the block.

    &lt;profile&gt;
            :ref:

    -profile
            Indicate that a profile is to be searched for its information.

    &lt;vendor&gt;
            :ref:

    -vendor
            Indicate that a vendor is to be searched for its information.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="config"><a class="header" href="#config">config</a></h1>
<h2 id="name-16"><a class="header" href="#name-16">Name</a></h2>
<pre><code>    config - Edit/modify legoHDL settings
</code></pre>
<h2 id="synopsis-16"><a class="header" href="#synopsis-16">Synopsis</a></h2>
<pre><code>    legohdl config &lt;profile-name&gt; [-ask]
    legohdl config [-&lt;keypath&gt;[(+ | -)]=&lt;value&gt;] [-&lt;sectionpath&gt;]
</code></pre>
<h2 id="description-16"><a class="header" href="#description-16">Description</a></h2>
<pre><code>    :todo:
</code></pre>
<h2 id="options-16"><a class="header" href="#options-16">Options</a></h2>
<pre><code>    &lt;profile-name&gt;
            An existing profile to import settings from.

    -ask
            Prompts the user before each import step (settings, template, 
            plugins) if the following should be imported and overloaded.

    :todo:
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="glossary"><a class="header" href="#glossary">Glossary</a></h1>
<h3 id="argument"><a class="header" href="#argument">Argument</a></h3>
<p>An <em>argument</em> is a string/value proceding a call to a software program on the command-line that will be passed to that program.</p>
<h3 id="available-1"><a class="header" href="#available-1">Available</a></h3>
<p><em>Available</em> refers to a level at which the block is seen in the <a href="./glossary.html#catalog">catalog</a>. A block has available status (A) when the block is within a vendor that is linked to the active workspace. Blocks cannot be used nor opened from this level.</p>
<h3 id="backend-tool"><a class="header" href="#backend-tool">Backend Tool</a></h3>
<p>In this context, a <em>backend</em> <em>tool</em> is a software program capable of performing a specific task on HDL files. Some examples are: Quartus, Vivado, and GHDL.</p>
<h3 id="block"><a class="header" href="#block">Block</a></h3>
<p>A legoHDL <em>block</em> is a <a href="./glossary.html#project">project</a> that contains a special <a href="./glossary.html#blockcfg">Block.cfg</a> metadata file at its root folder. These are the &quot;packages&quot; that this <a href="./glossary.html#package-manager">package manager</a> manages.</p>
<p>Since a block contains the HDL code, blocks therefore contain HDL <a href="./glossary.html#unit">units</a>.</p>
<h3 id="blockcfg"><a class="header" href="#blockcfg">Block.cfg</a></h3>
<p>The <em>Block.cfg</em> file is a metadata configuration file that follows similiar syntax to that of an ini file. legoHDL uses this file to mark that folder as a <a href="./glossary.html#block">block</a>.</p>
<h3 id="block-identifier"><a class="header" href="#block-identifier">Block Identifier</a></h3>
<p>A <em>block</em> <em>identifier</em> is a unique case-insensitive title for a block composed of 3 sections: <a href="./glossary.html#vendor">vendor</a>, <a href="./glossary.html#library">library</a>, and name. An identifier's sections are separated by a dot (<code>.</code>). The vendor section is optional and can be left blank.</p>
<h3 id="blueprint"><a class="header" href="#blueprint">Blueprint</a></h3>
<p>A <em>blueprint</em> is the outputted plain text file when a block is exported for building. It mainly consists of <a href="./glossary.html#label">labels</a> and their respective file paths. A blueprint is the &quot;glue&quot; between legoHDL and any <a href="./glossary.html#plugin">plugin</a>.</p>
<p>This file is always created in the <code>build/</code> directory found at the root of the current block.</p>
<h3 id="catalog"><a class="header" href="#catalog">Catalog</a></h3>
<p>The <em>catalog</em> is the list of searchable blocks within the current active workspace. Blocks can exist at 3 levels within the catalog: <a href="./glossary.html#downloaded">downloaded</a> (D), <a href="./glossary.html#installed">installed</a> (I), and/or <a href="./glossary.html#available">available</a> (A).</p>
<h3 id="development-tool"><a class="header" href="#development-tool">Development Tool</a></h3>
<p>A <em>development tool</em> is a software program specialized for a particular language that automates specific tasks to developing new projects for that language.</p>
<h3 id="downloaded"><a class="header" href="#downloaded">Downloaded</a></h3>
<p><em>Downloaded</em> refers to a level at which the block is seen in the <a href="./glossary.html#catalog">catalog</a>. A block has download status (D) if the block is within the active workspace's local path. Blocks that are downloaded are said to be &quot;developing&quot; or &quot;in-development&quot;. </p>
<p>Blocks can be used from this level within other blocks only if the <code>multi-develop</code> setting is enabled.</p>
<h3 id="flag"><a class="header" href="#flag">Flag</a></h3>
<p>A <em>flag</em> is a special type of <a href="./glossary.html#argument">argument</a> that controls or modifies how the specified command will function.</p>
<h3 id="full-version"><a class="header" href="#full-version">Full version</a></h3>
<p>A <em>full version</em> contains all 3 parts of a semantic version (version <code>v*.*.*</code>). Also related: <a href="./glossary.html#partial-version">partial version</a>.</p>
<h3 id="hardware-description-languages-hdls"><a class="header" href="#hardware-description-languages-hdls">Hardware Description Languages (HDLs)</a></h3>
<p><em>Hardware</em> <em>Description</em> <em>Languages</em> are a type of specialized computer language to describe electronic circuits. Two popular HDLs are <a href="./glossary.html#vhdl">VHDL</a> and <a href="./glossary.html#verilog">verilog</a>.</p>
<h3 id="installed-1"><a class="header" href="#installed-1">Installed</a></h3>
<p><em>Installed</em> refers to a level at which the block is seen in the <a href="./glossary.html#catalog">catalog</a>. A block has install status (I) when the block is within the active workspace's cache. </p>
<p>Installed blocks are considered stable and are able to be used within blocks in-development.</p>
<h3 id="intellectual-property-ip"><a class="header" href="#intellectual-property-ip">Intellectual Property (IP)</a></h3>
<p><em>Intellectual Property</em> is a created design. The HDL designs within legoHDL blocks can be considered IP. </p>
<h3 id="label"><a class="header" href="#label">Label</a></h3>
<p>A <em>label</em> is a unique name given to a group of files defined by their file extension. Defined labels are written to the blueprint file. Every label is evaluated as all upper-case and will have an <code>@</code> symbol preceding it.</p>
<p>Special default labels are: </p>
<ul>
<li><code>VHDL-SRC</code>, <code>VHDL-SIM</code>, <code>VHDL-LIB</code>, <code>VHDL-SRC-TOP</code>, <code>VHDL-SIM-TOP</code> for VHDL files</li>
<li><code>VLOG-SRC</code>, <code>VLOG-SIM</code>, <code>VLOG-LIB</code>, <code>VLOG-SRC-TOP</code>, <code>VLOG-SIM-TOP</code> for Verilog files</li>
</ul>
<h3 id="legohdlcfg"><a class="header" href="#legohdlcfg">legohdl.cfg</a></h3>
<p>The <em>legohdl.cfg</em> file contains the system-wide configuration settings for legoHDL. Its file format is based off of INI configuration files.</p>
<h3 id="library"><a class="header" href="#library">Library</a></h3>
<p>A <em>library</em> is the namespace that encapsulates <a href="./glossary.html#block">blocks</a>. When using VHDL entities or packages, this is also those respective library.</p>
<h3 id="package-manager"><a class="header" href="#package-manager">Package Manager</a></h3>
<p>A <em>package manager</em> is a software program used to automate the finding, installing, and uninstalling of modular groups of related files (&quot;packages&quot;). </p>
<p>The &quot;packages&quot; this package manager maintains are called <a href="./glossary.html#blocks">blocks</a>.</p>
<h3 id="partial-version"><a class="header" href="#partial-version">Partial version</a></h3>
<p>A <em>partial</em> <em>version</em> consists of either 1 or 2 of the most significant parts of a semantic version (version <code>v*</code> or version <code>v*.*</code>). Also related: <a href="./glossary.html#full-version">full version</a>.</p>
<h3 id="placeholder"><a class="header" href="#placeholder">Placeholder</a></h3>
<p>A <em>placeholder</em> is a temporary word that will be replaced by a value that cannot be determined until run-time. legoHDL finds all placeholders when creating a file and replaces them with their determined value.</p>
<p>All placeholders are enclosed with <code>%</code> symbols, except the <code>TEMPLATE</code> placeholder.</p>
<h3 id="plugin"><a class="header" href="#plugin">Plugin</a></h3>
<p>A <em>plugin</em> is a custom program to build the current block's design. It can consist of an executable or script written in any language to call any desired tool to perform any task such as linting, simulation, synthesis, generating a bitstream, or programming a bitfile to a target FPGA. A plugin commonly either wraps or directly is a <a href="./glossary.html#backend-tool">backend tool</a>.</p>
<p>In general, a plugin should read the <a href="./glossary.html#blueprint">blueprint</a> file to collect necessary data regarding what files are used for the current design. It is up to the plugin's developer to do what they want with the blueprint's collected information.</p>
<h3 id="profile"><a class="header" href="#profile">Profile</a></h3>
<p>A <em>profile</em> is a folder/repository that is a combination of settings defined in a <code>legohdl.cfg</code> file, a template defined in a <code>template/</code> folder, and/or a set of plugins defined in a <code>plugins/</code> folder. Profiles are used to share or save particular legoHDL configurations.</p>
<h3 id="project"><a class="header" href="#project">Project</a></h3>
<p>A <em>project</em> is a folder containing <a href="./glossary.html#hardware-description-languages-hdl">HDL</a> code and optionally any supporting files.</p>
<h3 id="semantic-versioning"><a class="header" href="#semantic-versioning">Semantic Versioning</a></h3>
<p><em>Semantic</em> <em>Versioning</em> is a popular versioning scheme consisting of 3 different levels of numerical significance: major, minor, and patch.</p>
<h3 id="shortcutting"><a class="header" href="#shortcutting">Shortcutting</a></h3>
<p><em>Shorcutting</em> refers to only giving legoHDL partial information about a block's identifier, given that it can logically deduct the rest of the identifier based on what identifier's exist.</p>
<h3 id="unit"><a class="header" href="#unit">Unit</a></h3>
<p>A <em>unit</em> is a &quot;piece of hardware&quot; described in HDL. This is called an <em>entity</em> in VHDL and a <em>module</em> in Verilog.</p>
<h3 id="vendor"><a class="header" href="#vendor">Vendor</a></h3>
<p>A <em>vendor</em> is the namespace that encapsulates <a href="./glossary.html#library">libraries</a>. Furthermore, a vendor can be a repository that tracks all of the blocks belonging to it by storing their metadata. </p>
<p>A block does not have to belong to a vendor. If no vendor is specified for a block, then by default it belongs to the null vendor.</p>
<h3 id="verilog"><a class="header" href="#verilog">Verilog</a></h3>
<p><em>Verilog</em> is a hardware description language used to model and structure digital circuits. It is one of the major languages legoHDL supports.</p>
<h3 id="vhdl"><a class="header" href="#vhdl">VHDL</a></h3>
<p>VHSIC Hardware Description Language, or <em>VHDL</em>, is a hardware description langauge used to model and structure digital circuits. It is one of the major languages legoHDL supports.</p>
<h3 id="workflow"><a class="header" href="#workflow">Workflow</a></h3>
<p>A <em>workflow</em> is a developer's particular needs and actions required on HDL source files. The typical HDL workflow consists of linting, synthesis, simulation, implementation, generating a bitstream, and programming a bitfile to a target FPGA.</p>
<p>Developers define their own workflow by writing <a href="./glossary.html#plugin">plugins</a> based on their available tools, environments, and needs.</p>
<h3 id="workspaces-1"><a class="header" href="#workspaces-1">Workspaces</a></h3>
<p><em>Workspaces</em> define what vendors to use and the local path to search under for blocks that are downloaded/under-development. Each workspace has its own cache for block installations, but can share vendors.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
